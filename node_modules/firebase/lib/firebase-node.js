/*! @license Firebase v1.1.3 - License: https://www.firebase.com/terms/terms-of-service.html */ var k,aa=this;function m(a){return void 0!==a}function ba(){}function ca(a){a.gb=function(){return a.Id?a.Id:a.Id=new a}}
function da(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ea(a){return"array"==da(a)}function fa(a){var b=da(a);return"array"==b||"object"==b&&"number"==typeof a.length}function q(a){return"string"==typeof a}function ga(a){return"number"==typeof a}function ha(a){return"function"==da(a)}function ia(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ja(a,b,c){return a.call.apply(a.bind,arguments)}
function ka(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function r(a,b,c){r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:ka;return r.apply(null,arguments)}var la=Date.now||function(){return+new Date};
function ma(a,b){function c(){}c.prototype=b.prototype;a.ff=b.prototype;a.prototype=new c;a.af=function(a,c,f){return b.prototype[c].apply(a,Array.prototype.slice.call(arguments,2))}};function na(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);}function oa(){this.Cc=void 0}
function pa(a,b,c){switch(typeof b){case "string":qa(b,c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":c.push(b);break;case "undefined":c.push("null");break;case "object":if(null==b){c.push("null");break}if(ea(b)){var d=b.length;c.push("[");for(var e="",f=0;f<d;f++)c.push(e),e=b[f],pa(a,a.Cc?a.Cc.call(b,String(f),e):e,c),e=",";c.push("]");break}c.push("{");d="";for(f in b)Object.prototype.hasOwnProperty.call(b,f)&&(e=b[f],"function"!=typeof e&&(c.push(d),qa(f,c),
c.push(":"),pa(a,a.Cc?a.Cc.call(b,f,e):e,c),d=","));c.push("}");break;case "function":break;default:throw Error("Unknown type: "+typeof b);}}var ra={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},sa=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;
function qa(a,b){b.push('"',a.replace(sa,function(a){if(a in ra)return ra[a];var b=a.charCodeAt(0),e="\\u";16>b?e+="000":256>b?e+="00":4096>b&&(e+="0");return ra[a]=e+b.toString(16)}),'"')};function ta(a){return"undefined"!==typeof JSON&&m(JSON.parse)?JSON.parse(a):na(a)}function u(a){if("undefined"!==typeof JSON&&m(JSON.stringify))a=JSON.stringify(a);else{var b=[];pa(new oa,a,b);a=b.join("")}return a};function ua(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);55296<=e&&56319>=e&&(e-=55296,d++,v(d<a.length,"Surrogate pair missing trail surrogate."),e=65536+(e<<10)+(a.charCodeAt(d)-56320));128>e?b[c++]=e:(2048>e?b[c++]=e>>6|192:(65536>e?b[c++]=e>>12|224:(b[c++]=e>>18|240,b[c++]=e>>12&63|128),b[c++]=e>>6&63|128),b[c++]=e&63|128)}return b};var va={};function x(a,b,c,d){var e;d<b?e="at least "+b:d>c&&(e=0===c?"none":"no more than "+c);if(e)throw Error(a+" failed: Was called with "+d+(1===d?" argument.":" arguments.")+" Expects "+e+".");}
function y(a,b,c){var d="";switch(b){case 1:d=c?"first":"First";break;case 2:d=c?"second":"Second";break;case 3:d=c?"third":"Third";break;case 4:d=c?"fourth":"Fourth";break;default:wa.assert(!1,"errorPrefix_ called with argumentNumber > 4.  Need to update it?")}return a=a+" failed: "+(d+" argument ")}function z(a,b,c,d){if((!d||m(c))&&!ha(c))throw Error(y(a,b,d)+"must be a valid function.");}function xa(a,b,c){if(m(c)&&(!ia(c)||null===c))throw Error(y(a,b,!0)+"must be a valid context object.");};function A(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function B(a,b){if(Object.prototype.hasOwnProperty.call(a,b))return a[b]}function ya(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b(c,a[c])}function za(a){var b={};ya(a,function(a,d){b[a]=d});return b};var wa={},Aa=/[\[\].#$\/\u0000-\u001F\u007F]/,Ba=/[\[\].#$\u0000-\u001F\u007F]/;function Ca(a){return q(a)&&0!==a.length&&!Aa.test(a)}function Da(a,b,c){c&&!m(b)||Ea(y(a,1,c),b)}
function Ea(a,b,c,d){c||(c=0);d=d||[];if(!m(b))throw Error(a+"contains undefined"+Fa(d));if(ha(b))throw Error(a+"contains a function"+Fa(d)+" with contents: "+b.toString());if(Ga(b))throw Error(a+"contains "+b.toString()+Fa(d));if(1E3<c)throw new TypeError(a+"contains a cyclic object value ("+d.slice(0,100).join(".")+"...)");if(q(b)&&b.length>10485760/3&&10485760<ua(b).length)throw Error(a+"contains a string greater than 10485760 utf8 bytes"+Fa(d)+" ('"+b.substring(0,50)+"...')");if(ia(b))for(var e in b)if(A(b,
e)){var f=b[e];if(".priority"!==e&&".value"!==e&&".sv"!==e&&!Ca(e))throw Error(a+" contains an invalid key ("+e+")"+Fa(d)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');d.push(e);Ea(a,f,c+1,d);d.pop()}}function Fa(a){return 0==a.length?"":" in property '"+a.join(".")+"'"}function Ha(a,b){if(!ia(b)||ea(b))throw Error(y(a,1,!1)+" must be an Object containing the children to replace.");Da(a,b,!1)}
function Ia(a,b,c,d){if(!d||m(c)){if(Ga(c))throw Error(y(a,b,d)+"is "+c.toString()+", but must be a valid Firebase priority (a string, finite number, or null).");if(!(null===c||ga(c)||q(c)||ia(c)&&A(c,".sv")))throw Error(y(a,b,d)+"must be a valid Firebase priority (a string, finite number, or null).");}}
function Ja(a,b,c){if(!c||m(b))switch(b){case "value":case "child_added":case "child_removed":case "child_changed":case "child_moved":break;default:throw Error(y(a,1,c)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".');}}function Ka(a,b){if(m(b)&&!Ca(b))throw Error(y(a,2,!0)+'was an invalid key: "'+b+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").');}
function La(a,b){if(!q(b)||0===b.length||Ba.test(b))throw Error(y(a,1,!1)+'was an invalid path: "'+b+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"');}function C(a,b){if(".info"===D(b))throw Error(a+" failed: Can't modify data under /.info/");}function Ma(a,b){if(!q(b))throw Error(y(a,1,!1)+"must be a valid credential (a string).");}function Na(a,b,c){if(!q(c))throw Error(y(a,b,!1)+"must be a valid string.");}
function E(a,b,c,d){if(!d||m(c))if(!ia(c)||null===c)throw Error(y(a,b,d)+"must be a valid object.");}function Oa(a,b,c){if(!ia(b)||null===b||!A(b,c))throw Error(y(a,1,!1)+'must contain the key "'+c+'"');if(!q(B(b,c)))throw Error(y(a,1,!1)+'must contain the key "'+c+'" with type "string"');};function F(a,b,c,d,e,f,g){this.i=a;this.path=b;this.Da=c;this.ea=d;this.ya=e;this.Ba=f;this.bb=g;if(m(this.ea)&&m(this.Ba)&&m(this.Da))throw"Query: Can't combine startAt(), endAt(), and limit().";}F.prototype.od=function(){x("Query.ref",0,0,arguments.length);return new G(this.i,this.path)};F.prototype.ref=F.prototype.od;
F.prototype.Ra=function(a,b){x("Query.on",2,4,arguments.length);Ja("Query.on",a,!1);z("Query.on",2,b,!1);var c=Pa("Query.on",arguments[2],arguments[3]);this.i.bc(this,a,b,c.cancel,c.$);return b};F.prototype.on=F.prototype.Ra;F.prototype.kb=function(a,b,c){x("Query.off",0,3,arguments.length);Ja("Query.off",a,!0);z("Query.off",2,b,!0);xa("Query.off",3,c);this.i.Bc(this,a,b,c)};F.prototype.off=F.prototype.kb;
F.prototype.Je=function(a,b){function c(g){f&&(f=!1,e.kb(a,c),b.call(d.$,g))}x("Query.once",2,4,arguments.length);Ja("Query.once",a,!1);z("Query.once",2,b,!1);var d=Pa("Query.once",arguments[2],arguments[3]),e=this,f=!0;this.Ra(a,c,function(b){e.kb(a,c);d.cancel&&d.cancel.call(d.$,b)})};F.prototype.once=F.prototype.Je;
F.prototype.ze=function(a){x("Query.limit",1,1,arguments.length);if(!ga(a)||Math.floor(a)!==a||0>=a)throw"Query.limit: First argument must be a positive integer.";return new F(this.i,this.path,a,this.ea,this.ya,this.Ba,this.bb)};F.prototype.limit=F.prototype.ze;F.prototype.$d=function(a,b){x("Query.startAt",0,2,arguments.length);Ia("Query.startAt",1,a,!0);Ka("Query.startAt",b);m(a)||(b=a=null);return new F(this.i,this.path,this.Da,a,b,this.Ba,this.bb)};F.prototype.startAt=F.prototype.$d;
F.prototype.Ed=function(a,b){x("Query.endAt",0,2,arguments.length);Ia("Query.endAt",1,a,!0);Ka("Query.endAt",b);return new F(this.i,this.path,this.Da,this.ea,this.ya,a,b)};F.prototype.endAt=F.prototype.Ed;F.prototype.se=function(a,b){x("Query.equalTo",1,2,arguments.length);Ia("Query.equalTo",1,a,!1);Ka("Query.equalTo",b);return this.$d(a,b).Ed(a,b)};F.prototype.equalTo=F.prototype.se;
function Qa(a){var b={};m(a.ea)&&(b.sp=a.ea);m(a.ya)&&(b.sn=a.ya);m(a.Ba)&&(b.ep=a.Ba);m(a.bb)&&(b.en=a.bb);m(a.Da)&&(b.l=a.Da);m(a.ea)&&m(a.ya)&&null===a.ea&&null===a.ya&&(b.vf="l");return b}F.prototype.Ta=function(){var a=Ra(Qa(this));return"{}"===a?"default":a};
function Pa(a,b,c){var d={};if(b&&c)d.cancel=b,z(a,3,d.cancel,!0),d.$=c,xa(a,4,d.$);else if(b)if("object"===typeof b&&null!==b)d.$=b;else if("function"===typeof b)d.cancel=b;else throw Error(va.cf(a,3,!0)+"must either be a cancel callback or a context object.");return d};function H(a,b){if(1==arguments.length){this.u=a.split("/");for(var c=0,d=0;d<this.u.length;d++)0<this.u[d].length&&(this.u[c]=this.u[d],c++);this.u.length=c;this.W=0}else this.u=a,this.W=b}function D(a){return a.W>=a.u.length?null:a.u[a.W]}function Sa(a){var b=a.W;b<a.u.length&&b++;return new H(a.u,b)}function Ta(a){return a.W<a.u.length?a.u[a.u.length-1]:null}k=H.prototype;k.toString=function(){for(var a="",b=this.W;b<this.u.length;b++)""!==this.u[b]&&(a+="/"+this.u[b]);return a||"/"};
k.parent=function(){if(this.W>=this.u.length)return null;for(var a=[],b=this.W;b<this.u.length-1;b++)a.push(this.u[b]);return new H(a,0)};k.J=function(a){for(var b=[],c=this.W;c<this.u.length;c++)b.push(this.u[c]);if(a instanceof H)for(c=a.W;c<a.u.length;c++)b.push(a.u[c]);else for(a=a.split("/"),c=0;c<a.length;c++)0<a[c].length&&b.push(a[c]);return new H(b,0)};k.f=function(){return this.W>=this.u.length};k.length=function(){return this.u.length-this.W};
function Ua(a,b){var c=D(a);if(null===c)return b;if(c===D(b))return Ua(Sa(a),Sa(b));throw"INTERNAL ERROR: innerPath ("+b+") is not within outerPath ("+a+")";}k.contains=function(a){var b=this.W,c=a.W;if(this.length()>a.length())return!1;for(;b<this.u.length;){if(this.u[b]!==a.u[c])return!1;++b;++c}return!0};function Va(){this.children={};this.dc=0;this.value=null}function Wa(a,b,c){this.Ea=a?a:"";this.Nb=b?b:null;this.A=c?c:new Va}function I(a,b){for(var c=b instanceof H?b:new H(b),d=a,e;null!==(e=D(c));)d=new Wa(e,d,B(d.A.children,e)||new Va),c=Sa(c);return d}k=Wa.prototype;k.k=function(){return this.A.value};function Xa(a,b){v("undefined"!==typeof b,"Cannot set value to undefined");a.A.value=b;Ya(a)}k.clear=function(){this.A.value=null;this.A.children={};this.A.dc=0;Ya(this)};
k.Cb=function(){return 0<this.A.dc};k.f=function(){return null===this.k()&&!this.Cb()};k.B=function(a){for(var b in this.A.children)a(new Wa(b,this,this.A.children[b]))};function Za(a,b,c,d){c&&!d&&b(a);a.B(function(a){Za(a,b,!0,d)});c&&d&&b(a)}function $a(a,b,c){for(a=c?a:a.parent();null!==a;){if(b(a))return!0;a=a.parent()}return!1}k.path=function(){return new H(null===this.Nb?this.Ea:this.Nb.path()+"/"+this.Ea)};k.name=function(){return this.Ea};k.parent=function(){return this.Nb};
function Ya(a){if(null!==a.Nb){var b=a.Nb,c=a.Ea,d=a.f(),e=A(b.A.children,c);d&&e?(delete b.A.children[c],b.A.dc--,Ya(b)):d||e||(b.A.children[c]=a.A,b.A.dc++,Ya(b))}};function ab(a,b){this.Ya=a?a:bb;this.da=b?b:cb}function bb(a,b){return a<b?-1:a>b?1:0}k=ab.prototype;k.sa=function(a,b){return new ab(this.Ya,this.da.sa(a,b,this.Ya).M(null,null,!1,null,null))};k.remove=function(a){return new ab(this.Ya,this.da.remove(a,this.Ya).M(null,null,!1,null,null))};k.get=function(a){for(var b,c=this.da;!c.f();){b=this.Ya(a,c.key);if(0===b)return c.value;0>b?c=c.left:0<b&&(c=c.right)}return null};
function db(a,b){for(var c,d=a.da,e=null;!d.f();){c=a.Ya(b,d.key);if(0===c){if(d.left.f())return e?e.key:null;for(d=d.left;!d.right.f();)d=d.right;return d.key}0>c?d=d.left:0<c&&(e=d,d=d.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?");}k.f=function(){return this.da.f()};k.count=function(){return this.da.count()};k.Ib=function(){return this.da.Ib()};k.jb=function(){return this.da.jb()};k.Ca=function(a){return this.da.Ca(a)};k.Ua=function(a){return this.da.Ua(a)};
k.hb=function(a){return new eb(this.da,a)};function eb(a,b){this.Ud=b;for(this.nc=[];!a.f();)this.nc.push(a),a=a.left}function fb(a){if(0===a.nc.length)return null;var b=a.nc.pop(),c;c=a.Ud?a.Ud(b.key,b.value):{key:b.key,value:b.value};for(b=b.right;!b.f();)a.nc.push(b),b=b.left;return c}function gb(a,b,c,d,e){this.key=a;this.value=b;this.color=null!=c?c:!0;this.left=null!=d?d:cb;this.right=null!=e?e:cb}k=gb.prototype;
k.M=function(a,b,c,d,e){return new gb(null!=a?a:this.key,null!=b?b:this.value,null!=c?c:this.color,null!=d?d:this.left,null!=e?e:this.right)};k.count=function(){return this.left.count()+1+this.right.count()};k.f=function(){return!1};k.Ca=function(a){return this.left.Ca(a)||a(this.key,this.value)||this.right.Ca(a)};k.Ua=function(a){return this.right.Ua(a)||a(this.key,this.value)||this.left.Ua(a)};function hb(a){return a.left.f()?a:hb(a.left)}k.Ib=function(){return hb(this).key};
k.jb=function(){return this.right.f()?this.key:this.right.jb()};k.sa=function(a,b,c){var d,e;e=this;d=c(a,e.key);e=0>d?e.M(null,null,null,e.left.sa(a,b,c),null):0===d?e.M(null,b,null,null,null):e.M(null,null,null,null,e.right.sa(a,b,c));return ib(e)};function jb(a){if(a.left.f())return cb;a.left.R()||a.left.left.R()||(a=kb(a));a=a.M(null,null,null,jb(a.left),null);return ib(a)}
k.remove=function(a,b){var c,d;c=this;if(0>b(a,c.key))c.left.f()||c.left.R()||c.left.left.R()||(c=kb(c)),c=c.M(null,null,null,c.left.remove(a,b),null);else{c.left.R()&&(c=lb(c));c.right.f()||c.right.R()||c.right.left.R()||(c=mb(c),c.left.left.R()&&(c=lb(c),c=mb(c)));if(0===b(a,c.key)){if(c.right.f())return cb;d=hb(c.right);c=c.M(d.key,d.value,null,null,jb(c.right))}c=c.M(null,null,null,null,c.right.remove(a,b))}return ib(c)};k.R=function(){return this.color};
function ib(a){a.right.R()&&!a.left.R()&&(a=nb(a));a.left.R()&&a.left.left.R()&&(a=lb(a));a.left.R()&&a.right.R()&&(a=mb(a));return a}function kb(a){a=mb(a);a.right.left.R()&&(a=a.M(null,null,null,null,lb(a.right)),a=nb(a),a=mb(a));return a}function nb(a){return a.right.M(null,null,a.color,a.M(null,null,!0,null,a.right.left),null)}function lb(a){return a.left.M(null,null,a.color,null,a.M(null,null,!0,a.left.right,null))}
function mb(a){return a.M(null,null,!a.color,a.left.M(null,null,!a.left.color,null,null),a.right.M(null,null,!a.right.color,null,null))}function ob(){}k=ob.prototype;k.M=function(){return this};k.sa=function(a,b){return new gb(a,b,null)};k.remove=function(){return this};k.count=function(){return 0};k.f=function(){return!0};k.Ca=function(){return!1};k.Ua=function(){return!1};k.Ib=function(){return null};k.jb=function(){return null};k.R=function(){return!1};var cb=new ob;function pb(a){this.zb=a;this.xc="firebase:"}k=pb.prototype;k.set=function(a,b){null==b?this.zb.removeItem(this.xc+a):this.zb.setItem(this.xc+a,u(b))};k.get=function(a){a=this.zb.getItem(this.xc+a);return null==a?null:ta(a)};k.remove=function(a){this.zb.removeItem(this.xc+a)};k.Kd=!1;k.toString=function(){return this.zb.toString()};function qb(){this.vb={}}qb.prototype.set=function(a,b){null==b?delete this.vb[a]:this.vb[a]=b};qb.prototype.get=function(a){return A(this.vb,a)?this.vb[a]:null};qb.prototype.remove=function(a){delete this.vb[a]};qb.prototype.Kd=!0;function tb(a){try{if("undefined"!==typeof window&&"undefined"!==typeof window[a]){var b=window[a];b.setItem("firebase:sentinel","cache");b.removeItem("firebase:sentinel");return new pb(b)}}catch(c){}return new qb}var ub=tb("localStorage"),J=tb("sessionStorage");function vb(a,b,c,d,e){this.host=a.toLowerCase();this.domain=this.host.substr(this.host.indexOf(".")+1);this.Va=b;this.Qa=c;this.Ze=d;this.wc=e||"";this.ha=ub.get("host:"+a)||this.host}function wb(a,b){b!==a.ha&&(a.ha=b,"s-"===a.ha.substr(0,2)&&ub.set("host:"+a.host,a.ha))}vb.prototype.toString=function(){var a=(this.Va?"https://":"http://")+this.host;this.wc&&(a+="<"+this.wc+">");return a};function xb(){this.qa=-1};function yb(){this.qa=-1;this.qa=64;this.F=[];this.Oc=[];this.fe=[];this.tc=[];this.tc[0]=128;for(var a=1;a<this.qa;++a)this.tc[a]=0;this.Hc=this.ib=0;this.reset()}ma(yb,xb);yb.prototype.reset=function(){this.F[0]=1732584193;this.F[1]=4023233417;this.F[2]=2562383102;this.F[3]=271733878;this.F[4]=3285377520;this.Hc=this.ib=0};
function zb(a,b,c){c||(c=0);var d=a.fe;if(q(b))for(var e=0;16>e;e++)d[e]=b.charCodeAt(c)<<24|b.charCodeAt(c+1)<<16|b.charCodeAt(c+2)<<8|b.charCodeAt(c+3),c+=4;else for(e=0;16>e;e++)d[e]=b[c]<<24|b[c+1]<<16|b[c+2]<<8|b[c+3],c+=4;for(e=16;80>e;e++){var f=d[e-3]^d[e-8]^d[e-14]^d[e-16];d[e]=(f<<1|f>>>31)&4294967295}b=a.F[0];c=a.F[1];for(var g=a.F[2],h=a.F[3],l=a.F[4],n,e=0;80>e;e++)40>e?20>e?(f=h^c&(g^h),n=1518500249):(f=c^g^h,n=1859775393):60>e?(f=c&g|h&(c|g),n=2400959708):(f=c^g^h,n=3395469782),f=(b<<
5|b>>>27)+f+l+n+d[e]&4294967295,l=h,h=g,g=(c<<30|c>>>2)&4294967295,c=b,b=f;a.F[0]=a.F[0]+b&4294967295;a.F[1]=a.F[1]+c&4294967295;a.F[2]=a.F[2]+g&4294967295;a.F[3]=a.F[3]+h&4294967295;a.F[4]=a.F[4]+l&4294967295}
yb.prototype.update=function(a,b){m(b)||(b=a.length);for(var c=b-this.qa,d=0,e=this.Oc,f=this.ib;d<b;){if(0==f)for(;d<=c;)zb(this,a,d),d+=this.qa;if(q(a))for(;d<b;){if(e[f]=a.charCodeAt(d),++f,++d,f==this.qa){zb(this,e);f=0;break}}else for(;d<b;)if(e[f]=a[d],++f,++d,f==this.qa){zb(this,e);f=0;break}}this.ib=f;this.Hc+=b};function Ab(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^la()).toString(36)};var L=Array.prototype,Bb=L.indexOf?function(a,b,c){return L.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(q(a))return q(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Cb=L.forEach?function(a,b,c){L.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Db=L.filter?function(a,b,c){return L.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=q(a)?
a.split(""):a,h=0;h<d;h++)if(h in g){var l=g[h];b.call(c,l,h,a)&&(e[f++]=l)}return e},Eb=L.map?function(a,b,c){return L.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=q(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Fb=L.reduce?function(a,b,c,d){d&&(b=r(b,d));return L.reduce.call(a,b,c)}:function(a,b,c,d){var e=c;Cb(a,function(c,g){e=b.call(d,e,c,g,a)});return e},Gb=L.every?function(a,b,c){return L.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=
q(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function Hb(a,b){var c;a:{c=a.length;for(var d=q(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){c=e;break a}c=-1}return 0>c?null:q(a)?a.charAt(c):a[c]}function Ib(a,b){a.sort(b||Jb)}function Jb(a,b){return a>b?1:a<b?-1:0};var Kb;a:{var Lb=aa.navigator;if(Lb){var Mb=Lb.userAgent;if(Mb){Kb=Mb;break a}}Kb=""}function Nb(a){return-1!=Kb.indexOf(a)};var Ob=Nb("Opera")||Nb("OPR"),Pb=Nb("Trident")||Nb("MSIE"),Qb=Nb("Gecko")&&-1==Kb.toLowerCase().indexOf("webkit")&&!(Nb("Trident")||Nb("MSIE")),Rb=-1!=Kb.toLowerCase().indexOf("webkit");(function(){var a="",b;if(Ob&&aa.opera)return a=aa.opera.version,ha(a)?a():a;Qb?b=/rv\:([^\);]+)(\)|;)/:Pb?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:Rb&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(Kb))?a[1]:"");return Pb&&(b=(b=aa.document)?b.documentMode:void 0,b>parseFloat(a))?String(b):a})();var Sb=null,Tb=null;
function Ub(a,b){if(!fa(a))throw Error("encodeByteArray takes an array as a parameter");if(!Sb){Sb={};Tb={};for(var c=0;65>c;c++)Sb[c]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c),Tb[c]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(c)}for(var c=b?Tb:Sb,d=[],e=0;e<a.length;e+=3){var f=a[e],g=e+1<a.length,h=g?a[e+1]:0,l=e+2<a.length,n=l?a[e+2]:0,p=f>>2,f=(f&3)<<4|h>>4,h=(h&15)<<2|n>>6,n=n&63;l||(n=64,g||(h=64));d.push(c[p],c[f],c[h],c[n])}return d.join("")}
;var Vb=function(){var a=1;return function(){return a++}}();function v(a,b){if(!a)throw Error("Firebase INTERNAL ASSERT FAILED:"+b);}function Wb(a){try{return(new Buffer(a,"base64")).toString("utf8")}catch(b){Xb("base64DecodeIfNativeSupport failed: ",b)}return null}
function Yb(a){var b=ua(a);a=new yb;a.update(b);var b=[],c=8*a.Hc;56>a.ib?a.update(a.tc,56-a.ib):a.update(a.tc,a.qa-(a.ib-56));for(var d=a.qa-1;56<=d;d--)a.Oc[d]=c&255,c/=256;zb(a,a.Oc);for(d=c=0;5>d;d++)for(var e=24;0<=e;e-=8)b[c]=a.F[d]>>e&255,++c;return Ub(b)}function Zb(a){for(var b="",c=0;c<arguments.length;c++)b=fa(arguments[c])?b+Zb.apply(null,arguments[c]):"object"===typeof arguments[c]?b+u(arguments[c]):b+arguments[c],b+=" ";return b}var $b=null,ac=!0;
function Xb(a){!0===ac&&(ac=!1,null===$b&&!0===J.get("logging_enabled")&&bc(!0));if($b){var b=Zb.apply(null,arguments);$b(b)}}function cc(a){return function(){Xb(a,arguments)}}function dc(a){if("undefined"!==typeof console){var b="FIREBASE INTERNAL ERROR: "+Zb.apply(null,arguments);"undefined"!==typeof console.error?console.error(b):console.log(b)}}function ec(a){var b=Zb.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+b);}
function M(a){if("undefined"!==typeof console){var b="FIREBASE WARNING: "+Zb.apply(null,arguments);"undefined"!==typeof console.warn?console.warn(b):console.log(b)}}
function fc(a){var b="",c="",d="",e=!0,f="https",g="";if(q(a)){var h=a.indexOf("//");0<=h&&(f=a.substring(0,h-1),a=a.substring(h+2));h=a.indexOf("/");-1===h&&(h=a.length);b=a.substring(0,h);a=a.substring(h+1);var l=b.split(".");if(3===l.length){h=l[2].indexOf(":");e=0<=h?"https"===f||"wss"===f:!0;c=l[1];d=l[0];g="";a=("/"+a).split("/");for(h=0;h<a.length;h++)if(0<a[h].length){l=a[h];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch(n){}g+="/"+l}d=d.toLowerCase()}else 2===l.length&&(c=l[0])}return{host:b,
domain:c,Ve:d,Va:e,scheme:f,Ob:g}}function Ga(a){return ga(a)&&(a!=a||a==Number.POSITIVE_INFINITY||a==Number.NEGATIVE_INFINITY)}function gc(a){a()}function hc(a,b){return a!==b?null===a?-1:null===b?1:typeof a!==typeof b?"number"===typeof a?-1:1:a>b?1:-1:0}function ic(a,b){if(a===b)return 0;var c=jc(a),d=jc(b);return null!==c?null!==d?0==c-d?a.length-b.length:c-d:-1:null!==d?1:a<b?-1:1}function kc(a,b){if(b&&a in b)return b[a];throw Error("Missing required key ("+a+") in object: "+u(b));}
function Ra(a){if("object"!==typeof a||null===a)return u(a);var b=[],c;for(c in a)b.push(c);b.sort();c="{";for(var d=0;d<b.length;d++)0!==d&&(c+=","),c+=u(b[d]),c+=":",c+=Ra(a[b[d]]);return c+"}"}function lc(a,b){if(a.length<=b)return[a];for(var c=[],d=0;d<a.length;d+=b)d+b>a?c.push(a.substring(d,a.length)):c.push(a.substring(d,d+b));return c}function mc(a,b){if(ea(a))for(var c=0;c<a.length;++c)b(c,a[c]);else nc(a,b)}function oc(a,b){return b?r(a,b):a}
function pc(a){v(!Ga(a),"Invalid JSON number");var b,c,d,e;0===a?(d=c=0,b=-Infinity===1/a?1:0):(b=0>a,a=Math.abs(a),a>=Math.pow(2,-1022)?(d=Math.min(Math.floor(Math.log(a)/Math.LN2),1023),c=d+1023,d=Math.round(a*Math.pow(2,52-d)-Math.pow(2,52))):(c=0,d=Math.round(a/Math.pow(2,-1074))));e=[];for(a=52;a;a-=1)e.push(d%2?1:0),d=Math.floor(d/2);for(a=11;a;a-=1)e.push(c%2?1:0),c=Math.floor(c/2);e.push(b?1:0);e.reverse();b=e.join("");c="";for(a=0;64>a;a+=8)d=parseInt(b.substr(a,8),2).toString(16),1===d.length&&
(d="0"+d),c+=d;return c.toLowerCase()}function qc(a){var b="Unknown Error";"too_big"===a?b="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==a?b="Client doesn't have permission to access the desired data.":"unavailable"==a&&(b="The service is unavailable");b=Error(a+": "+b);b.code=a.toUpperCase();return b}var rc=/^-?\d{1,10}$/;function jc(a){return rc.test(a)&&(a=Number(a),-2147483648<=a&&2147483647>=a)?a:null}
function sc(a){try{a()}catch(b){setTimeout(function(){throw b;},Math.floor(0))}}function O(a,b){if(ha(a)){var c=Array.prototype.slice.call(arguments,1).slice();sc(function(){a.apply(null,c)})}};function tc(a,b){this.H=a;v(null!==this.H,"LeafNode shouldn't be created with null value.");this.mb="undefined"!==typeof b?b:null}k=tc.prototype;k.Q=function(){return!0};k.m=function(){return this.mb};k.Ia=function(a){return new tc(this.H,a)};k.P=function(){return P};k.N=function(a){return null===D(a)?this:P};k.ga=function(){return null};k.K=function(a,b){return(new Q).K(a,b).Ia(this.mb)};k.Aa=function(a,b){var c=D(a);return null===c?b:this.K(c,P.Aa(Sa(a),b))};k.f=function(){return!1};k.oc=function(){return 0};
k.X=function(a){return a&&null!==this.m()?{".value":this.k(),".priority":this.m()}:this.k()};k.hash=function(){var a="";null!==this.m()&&(a+="priority:"+uc(this.m())+":");var b=typeof this.H,a=a+(b+":"),a="number"===b?a+pc(this.H):a+this.H;return Yb(a)};k.k=function(){return this.H};k.toString=function(){return"string"===typeof this.H?this.H:'"'+this.H+'"'};function vc(a,b){return hc(a.ka,b.ka)||ic(a.name,b.name)}function wc(a,b){return ic(a.name,b.name)}function xc(a,b){return ic(a,b)};function Q(a,b){this.o=a||new ab(xc);this.mb="undefined"!==typeof b?b:null}k=Q.prototype;k.Q=function(){return!1};k.m=function(){return this.mb};k.Ia=function(a){return new Q(this.o,a)};k.K=function(a,b){var c=this.o.remove(a);b&&b.f()&&(b=null);null!==b&&(c=c.sa(a,b));return b&&null!==b.m()?new yc(c,null,this.mb):new Q(c,this.mb)};k.Aa=function(a,b){var c=D(a);if(null===c)return b;var d=this.P(c).Aa(Sa(a),b);return this.K(c,d)};k.f=function(){return this.o.f()};k.oc=function(){return this.o.count()};
var zc=/^(0|[1-9]\d*)$/;k=Q.prototype;k.X=function(a){if(this.f())return null;var b={},c=0,d=0,e=!0;this.B(function(f,g){b[f]=g.X(a);c++;e&&zc.test(f)?d=Math.max(d,Number(f)):e=!1});if(!a&&e&&d<2*c){var f=[],g;for(g in b)f[g]=b[g];return f}a&&null!==this.m()&&(b[".priority"]=this.m());return b};k.hash=function(){var a="";null!==this.m()&&(a+="priority:"+uc(this.m())+":");this.B(function(b,c){var d=c.hash();""!==d&&(a+=":"+b+":"+d)});return""===a?"":Yb(a)};
k.P=function(a){a=this.o.get(a);return null===a?P:a};k.N=function(a){var b=D(a);return null===b?this:this.P(b).N(Sa(a))};k.ga=function(a){return db(this.o,a)};k.Gd=function(){return this.o.Ib()};k.Hd=function(){return this.o.jb()};k.B=function(a){return this.o.Ca(a)};k.Wc=function(a){return this.o.Ua(a)};k.hb=function(){return this.o.hb()};k.toString=function(){var a="{",b=!0;this.B(function(c,d){b?b=!1:a+=", ";a+='"'+c+'" : '+d.toString()});return a+="}"};var P=new Q;function yc(a,b,c){Q.call(this,a,c);null===b&&(b=new ab(vc),a.Ca(function(a,c){b=b.sa({name:a,ka:c.m()},c)}));this.xa=b}ma(yc,Q);k=yc.prototype;k.K=function(a,b){var c=this.P(a),d=this.o,e=this.xa;null!==c&&(d=d.remove(a),e=e.remove({name:a,ka:c.m()}));b&&b.f()&&(b=null);null!==b&&(d=d.sa(a,b),e=e.sa({name:a,ka:b.m()},b));return new yc(d,e,this.m())};k.ga=function(a,b){var c=db(this.xa,{name:a,ka:b.m()});return c?c.name:null};k.B=function(a){return this.xa.Ca(function(b,c){return a(b.name,c)})};
k.Wc=function(a){return this.xa.Ua(function(b,c){return a(b.name,c)})};k.hb=function(){return this.xa.hb(function(a,b){return{key:a.name,value:b}})};k.Gd=function(){return this.xa.f()?null:this.xa.Ib().name};k.Hd=function(){return this.xa.f()?null:this.xa.jb().name};function R(a,b){if(null===a)return P;var c=null;"object"===typeof a&&".priority"in a?c=a[".priority"]:"undefined"!==typeof b&&(c=b);v(null===c||"string"===typeof c||"number"===typeof c||"object"===typeof c&&".sv"in c,"Invalid priority type found: "+typeof c);"object"===typeof a&&".value"in a&&null!==a[".value"]&&(a=a[".value"]);if("object"!==typeof a||".sv"in a)return new tc(a,c);if(a instanceof Array){var d=P,e=a;nc(e,function(a,b){if(A(e,b)&&"."!==b.substring(0,1)){var c=R(a);if(c.Q()||!c.f())d=
d.K(b,c)}});return d.Ia(c)}var f=[],g={},h=!1,l=a;mc(l,function(a,b){if("string"!==typeof b||"."!==b.substring(0,1)){var c=R(l[b]);c.f()||(h=h||null!==c.m(),f.push({name:b,ka:c.m()}),g[b]=c)}});var n=Ac(f,g,!1);if(h){var p=Ac(f,g,!0);return new yc(n,p,c)}return new Q(n,c)}var Bc=Math.log(2);function Cc(a){this.count=parseInt(Math.log(a+1)/Bc,10);this.Cd=this.count-1;this.oe=a+1&parseInt(Array(this.count+1).join("1"),2)}function Dc(a){var b=!(a.oe&1<<a.Cd);a.Cd--;return b}
function Ac(a,b,c){function d(e,f){var l=f-e;if(0==l)return null;if(1==l){var l=a[e].name,n=c?a[e]:l;return new gb(n,b[l],!1,null,null)}var n=parseInt(l/2,10)+e,p=d(e,n),s=d(n+1,f),l=a[n].name,n=c?a[n]:l;return new gb(n,b[l],!1,p,s)}var e=c?vc:wc;a.sort(e);var f=function(e){function f(e,g){var h=p-e,s=p;p-=e;var t=a[h].name,h=new gb(c?a[h]:t,b[t],g,null,d(h+1,s));l?l.left=h:n=h;l=h}for(var l=null,n=null,p=a.length,s=0;s<e.count;++s){var t=Dc(e),w=Math.pow(2,e.count-(s+1));t?f(w,!1):(f(w,!1),f(w,!0))}return n}(new Cc(a.length)),
e=c?vc:xc;return null!==f?new ab(e,f):new ab(e)}function uc(a){return"number"===typeof a?"number:"+pc(a):"string:"+a};function S(a,b){this.A=a;this.Ac=b}S.prototype.X=function(){x("Firebase.DataSnapshot.val",0,0,arguments.length);return this.A.X()};S.prototype.val=S.prototype.X;S.prototype.te=function(){x("Firebase.DataSnapshot.exportVal",0,0,arguments.length);return this.A.X(!0)};S.prototype.exportVal=S.prototype.te;S.prototype.J=function(a){x("Firebase.DataSnapshot.child",0,1,arguments.length);ga(a)&&(a=String(a));La("Firebase.DataSnapshot.child",a);var b=new H(a),c=this.Ac.J(b);return new S(this.A.N(b),c)};
S.prototype.child=S.prototype.J;S.prototype.ad=function(a){x("Firebase.DataSnapshot.hasChild",1,1,arguments.length);La("Firebase.DataSnapshot.hasChild",a);var b=new H(a);return!this.A.N(b).f()};S.prototype.hasChild=S.prototype.ad;S.prototype.m=function(){x("Firebase.DataSnapshot.getPriority",0,0,arguments.length);return this.A.m()};S.prototype.getPriority=S.prototype.m;
S.prototype.forEach=function(a){x("Firebase.DataSnapshot.forEach",1,1,arguments.length);z("Firebase.DataSnapshot.forEach",1,a,!1);if(this.A.Q())return!1;var b=this;return this.A.B(function(c,d){return a(new S(d,b.Ac.J(c)))})};S.prototype.forEach=S.prototype.forEach;S.prototype.Cb=function(){x("Firebase.DataSnapshot.hasChildren",0,0,arguments.length);return this.A.Q()?!1:!this.A.f()};S.prototype.hasChildren=S.prototype.Cb;
S.prototype.name=function(){x("Firebase.DataSnapshot.name",0,0,arguments.length);return this.Ac.name()};S.prototype.name=S.prototype.name;S.prototype.oc=function(){x("Firebase.DataSnapshot.numChildren",0,0,arguments.length);return this.A.oc()};S.prototype.numChildren=S.prototype.oc;S.prototype.od=function(){x("Firebase.DataSnapshot.ref",0,0,arguments.length);return this.Ac};S.prototype.ref=S.prototype.od;function Ec(a){v(ea(a)&&0<a.length,"Requires a non-empty array");this.ge=a;this.Gb={}}Ec.prototype.Jc=function(a,b){for(var c=this.Gb[a]||[],d=0;d<c.length;d++)c[d].ba.apply(c[d].$,Array.prototype.slice.call(arguments,1))};Ec.prototype.Ra=function(a,b,c){Fc(this,a);this.Gb[a]=this.Gb[a]||[];this.Gb[a].push({ba:b,$:c});(a=this.Zc(a))&&b.apply(c,a)};Ec.prototype.kb=function(a,b,c){Fc(this,a);a=this.Gb[a]||[];for(var d=0;d<a.length;d++)if(a[d].ba===b&&(!c||c===a[d].$)){a.splice(d,1);break}};
function Fc(a,b){v(Hb(a.ge,function(a){return a===b}),"Unknown event: "+b)};function Gc(){Ec.call(this,["visible"]);var a,b;"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(b="visibilitychange",a="hidden"):"undefined"!==typeof document.mozHidden?(b="mozvisibilitychange",a="mozHidden"):"undefined"!==typeof document.msHidden?(b="msvisibilitychange",a="msHidden"):"undefined"!==typeof document.webkitHidden&&(b="webkitvisibilitychange",a="webkitHidden"));this.ub=!0;if(b){var c=this;document.addEventListener(b,
function(){var b=!document[a];b!==c.ub&&(c.ub=b,c.Jc("visible",b))},!1)}}ma(Gc,Ec);ca(Gc);Gc.prototype.Zc=function(a){v("visible"===a,"Unknown event type: "+a);return[this.ub]};function Hc(){Ec.call(this,["online"]);this.Lb=!0;if("undefined"!==typeof window&&"undefined"!==typeof window.addEventListener){var a=this;window.addEventListener("online",function(){a.Lb||a.Jc("online",!0);a.Lb=!0},!1);window.addEventListener("offline",function(){a.Lb&&a.Jc("online",!1);a.Lb=!1},!1)}}ma(Hc,Ec);ca(Hc);Hc.prototype.Zc=function(a){v("online"===a,"Unknown event type: "+a);return[this.Lb]};(function(){var a=process.version;if("v0.10.22"===a||"v0.10.23"===a||"v0.10.24"===a){a=require("_stream_writable");a.prototype.write=function(a,e,h){var l=this._writableState,n=!1;"function"===typeof e&&(h=e,e=null);Buffer.isBuffer(a)?e="buffer":e||(e=l.defaultEncoding);"function"!==typeof h&&(h=function(){});l.ended?b(this,h):c(this,l,a,h)&&(n=d(this,l,a,e,h));return n};var b=function(a,b){var c=Error("write after end");a.emit("error",c);process.nextTick(function(){b(c)})},c=function(a,b,c,d){var e=
!0;if(!Buffer.isBuffer(c)&&"string"!==typeof c&&null!==c&&void 0!==c&&!b.objectMode){var p=new TypeError("Invalid non-string/buffer chunk");a.emit("error",p);process.nextTick(function(){d(p)});e=!1}return e},d=function(a,b,c,d,n){b.objectMode||!1===b.decodeStrings||"string"!==typeof c||(c=new Buffer(c,d));Buffer.isBuffer(c)&&(d="buffer");var p=b.objectMode?1:c.length;b.length+=p;var s=b.length<b.highWaterMark;s||(b.needDrain=!0);b.writing?b.buffer.push(new e(c,d,n)):(b.writelen=p,b.writecb=n,b.writing=
!0,b.sync=!0,a._write(c,d,b.onwrite),b.sync=!1);return s},e=function(a,b,c){this.chunk=a;this.encoding=b;this.callback=c};require("_stream_duplex").prototype.write=a.prototype.write}})();function nc(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function Ic(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Jc(a){for(var b in a)return!1;return!0}function Kc(a){var b={},c;for(c in a)b[c]=a[c];return b}var Lc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Mc(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Lc.length;f++)c=Lc[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function Nc(){this.yb={}}function Oc(a,b,c){m(c)||(c=1);A(a.yb,b)||(a.yb[b]=0);a.yb[b]+=c}Nc.prototype.get=function(){return Kc(this.yb)};function Qc(a){this.pe=a;this.jc=null}Qc.prototype.get=function(){var a=this.pe.get(),b=Kc(a);if(this.jc)for(var c in this.jc)b[c]-=this.jc[c];this.jc=a;return b};function Rc(a,b){this.vd={};this.Ec=new Qc(a);this.n=b;var c=1E4+2E4*Math.random();setTimeout(r(this.Sd,this),Math.floor(c))}Rc.prototype.Sd=function(){var a=this.Ec.get(),b={},c=!1,d;for(d in a)0<a[d]&&A(this.vd,d)&&(b[d]=a[d],c=!0);c&&(a=this.n,a.T&&(b={c:b},a.e("reportStats",b),a.Ga("s",b)));setTimeout(r(this.Sd,this),Math.floor(6E5*Math.random()))};var Sc={},Tc={};function Uc(a){a=a.toString();Sc[a]||(Sc[a]=new Nc);return Sc[a]}function Vc(a,b){var c=a.toString();Tc[c]||(Tc[c]=b());return Tc[c]};var Wc=null,Wc=require("faye-websocket").Client;function Xc(a,b,c){this.Sc=a;this.e=cc(this.Sc);this.frames=this.Eb=null;this.Ka=this.La=this.xd=0;this.fa=Uc(b);this.Za=(b.Va?"wss://":"ws://")+b.ha+"/.ws?v=5";b.host!==b.ha&&(this.Za=this.Za+"&ns="+b.Qa);c&&(this.Za=this.Za+"&s="+c)}var Yc;
Xc.prototype.open=function(a,b){this.ja=b;this.Ee=a;this.e("Websocket connecting to "+this.Za);this.Ab=!1;ub.set("previous_websocket_failure",!0);try{this.Y=new Wc(this.Za)}catch(c){this.e("Error instantiating WebSocket.");var d=c.message||c.data;d&&this.e(d);this.Fa();return}var e=this;this.Y.onopen=function(){e.e("Websocket connected.");e.Ab=!0};this.Y.onclose=function(){e.e("Websocket connection was disconnected.");e.Y=null;e.Fa()};this.Y.onmessage=function(a){if(null!==e.Y)if(a=a.data,e.Ka+=a.length,
Oc(e.fa,"bytes_received",a.length),Zc(e),null!==e.frames)$c(e,a);else{a:{v(null===e.frames,"We already have a frame buffer");if(6>=a.length){var b=Number(a);if(!isNaN(b)){e.xd=b;e.frames=[];a=null;break a}}e.xd=1;e.frames=[]}null!==a&&$c(e,a)}};this.Y.onerror=function(a){e.e("WebSocket error.  Closing connection.");(a=a.message||a.data)&&e.e(a);e.Fa()}};Xc.prototype.start=function(){};
Xc.isAvailable=function(){var a=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var b=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);b&&1<b.length&&4.4>parseFloat(b[1])&&(a=!0)}return!a&&null!==Wc&&!Yc};Xc.responsesRequiredToBeHealthy=2;Xc.healthyTimeout=3E4;k=Xc.prototype;k.kc=function(){ub.remove("previous_websocket_failure")};function $c(a,b){a.frames.push(b);if(a.frames.length==a.xd){var c=a.frames.join("");a.frames=null;c=ta(c);a.Ee(c)}}
k.send=function(a){Zc(this);a=u(a);this.La+=a.length;Oc(this.fa,"bytes_sent",a.length);a=lc(a,16384);1<a.length&&this.Y.send(String(a.length));for(var b=0;b<a.length;b++)this.Y.send(a[b])};k.Yb=function(){this.Oa=!0;this.Eb&&(clearInterval(this.Eb),this.Eb=null);this.Y&&(this.Y.close(),this.Y=null)};k.Fa=function(){this.Oa||(this.e("WebSocket is closing itself"),this.Yb(),this.ja&&(this.ja(this.Ab),this.ja=null))};k.close=function(){this.Oa||(this.e("WebSocket is being closed"),this.Yb())};
function Zc(a){clearInterval(a.Eb);a.Eb=setInterval(function(){a.Y&&a.Y.send("0");Zc(a)},Math.floor(45E3))};function ad(a){this.lb=a;this.vc=[];this.ab=0;this.Rc=-1;this.Sa=null}function bd(a,b,c){a.Rc=b;a.Sa=c;a.Rc<a.ab&&(a.Sa(),a.Sa=null)}function cd(a,b,c){for(a.vc[b]=c;a.vc[a.ab];){var d=a.vc[a.ab];delete a.vc[a.ab];for(var e=0;e<d.length;++e)if(d[e]){var f=a;sc(function(){f.lb(d[e])})}if(a.ab===a.Rc){a.Sa&&(clearTimeout(a.Sa),a.Sa(),a.Sa=null);break}a.ab++}};function dd(){this.set={}}k=dd.prototype;k.add=function(a,b){this.set[a]=null!==b?b:!0};k.contains=function(a){return A(this.set,a)};k.get=function(a){return this.contains(a)?this.set[a]:void 0};k.remove=function(a){delete this.set[a]};k.clear=function(){this.set={}};k.f=function(){return Jc(this.set)};k.count=function(){var a=this.set,b=0,c;for(c in a)b++;return b};function ed(a,b){nc(a.set,function(a,d){b(d,a)})}k.keys=function(){var a=[];nc(this.set,function(b,c){a.push(c)});return a};function fd(a,b,c){this.Sc=a;this.e=cc(a);this.Ka=this.La=0;this.fa=Uc(b);this.Dc=c;this.Ab=!1;this.ac=function(a){b.host!==b.ha&&(a.ns=b.Qa);var c=[],f;for(f in a)a.hasOwnProperty(f)&&c.push(f+"="+a[f]);return(b.Va?"https://":"http://")+b.ha+"/.lp?"+c.join("&")}}var gd,hd;
fd.prototype.open=function(a,b){this.Bd=0;this.U=b;this.Nd=new ad(a);this.Oa=!1;var c=this;this.Ma=setTimeout(function(){c.e("Timed out trying to connect.");c.Fa();c.Ma=null},Math.floor(3E4));gc(function(){if(!c.Oa){c.ma=new id(function(a,b,d,h,l){jd(c,arguments);if(c.ma)if(c.Ma&&(clearTimeout(c.Ma),c.Ma=null),c.Ab=!0,"start"==a)c.id=b,c.Ke=d;else if("close"===a)b?(c.ma.Xd=!1,bd(c.Nd,b,function(){c.Fa()})):c.Fa();else throw Error("Unrecognized command received: "+a);},function(a,b){jd(c,arguments);
cd(c.Nd,a,b)},function(){c.Fa()},c.ac);var a={start:"t"};a.ser=Math.floor(1E8*Math.random());c.ma.Ye&&(a.cb=c.ma.Ye);a.v="5";c.Dc&&(a.s=c.Dc);a=c.ac(a);c.e("Connecting via long-poll to "+a);kd(c.ma,a,function(){})}})};fd.prototype.start=function(){var a=this.ma,b=this.Ke;a.ed=this.id;a.Md=b;for(a.Mc=!0;ld(a););};
fd.isAvailable=function(){return!hd&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.$e)&&(gd||!1)};k=fd.prototype;k.kc=function(){};k.Yb=function(){this.Oa=!0;this.ma&&(this.ma.close(),this.ma=null);this.Ld&&(document.body.removeChild(this.Ld),this.Ld=null);this.Ma&&(clearTimeout(this.Ma),this.Ma=null)};
k.Fa=function(){this.Oa||(this.e("Longpoll is closing itself"),this.Yb(),this.U&&(this.U(this.Ab),this.U=null))};k.close=function(){this.Oa||(this.e("Longpoll is being closed."),this.Yb())};k.send=function(a){a=u(a);this.La+=a.length;Oc(this.fa,"bytes_sent",a.length);a=ua(a);a=Ub(a,!0);a=lc(a,1840);for(var b=0;b<a.length;b++){var c=this.ma;c.Qb.push({Pe:this.Bd,We:a.length,Dd:a[b]});c.Mc&&ld(c);this.Bd++}};function jd(a,b){var c=u(b).length;a.Ka+=c;Oc(a.fa,"bytes_received",c)}
function id(a,b,c,d){this.ac=d;this.ja=c;this.ld=new dd;this.Qb=[];this.Uc=Math.floor(1E8*Math.random());this.Xd=!0;this.qe=a;this.Fe=b}id.prototype.close=function(){this.Mc=!1;if(this.mc){this.mc.bf.body.innerHTML="";var a=this;setTimeout(function(){null!==a.mc&&(document.body.removeChild(a.mc),a.mc=null)},Math.floor(0))}if(this.ed){var b={disconn:"t"};b.id=this.ed;b.pw=this.Md;b=this.ac(b);md(b)}if(b=this.ja)this.ja=null,b()};
function ld(a){if(a.Mc&&a.Xd&&a.ld.count()<(0<a.Qb.length?2:1)){a.Uc++;var b={};b.id=a.ed;b.pw=a.Md;b.ser=a.Uc;for(var b=a.ac(b),c="",d=0;0<a.Qb.length;)if(1870>=a.Qb[0].Dd.length+30+c.length){var e=a.Qb.shift(),c=c+"&seg"+d+"="+e.Pe+"&ts"+d+"="+e.We+"&d"+d+"="+e.Dd;d++}else break;nd(a,b+c,a.Uc);return!0}return!1}function nd(a,b,c){function d(){a.ld.remove(c);ld(a)}a.ld.add(c);var e=setTimeout(d,Math.floor(25E3));kd(a,b,function(){clearTimeout(e);d()})}function kd(a,b,c){od(a,b,c)}var pd=null;
function md(a,b){pd||(pd=require("request"));pd(a,function(c,d,e){if(c)throw"Rest request for "+a.url+" failed.";b&&b(e)})}function od(a,b,c){md({url:b,df:!0},function(b){qd(a,b);c()})}function qd(a,b){eval("var jsonpCB = function(pLPCommand, pRTLPCB) {"+b+"}");jsonpCB(a.qe,a.Fe)};function rd(a){sd(this,a)}var td=[fd,Xc];function sd(a,b){var c=Xc&&Xc.isAvailable(),d=c&&!(ub.Kd||!0===ub.get("previous_websocket_failure"));b.Ze&&(c||M("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),d=!0);if(d)a.Zb=[Xc];else{var e=a.Zb=[];mc(td,function(a,b){b&&b.isAvailable()&&e.push(b)})}}function ud(a){if(0<a.Zb.length)return a.Zb[0];throw Error("No transports available");};function vd(a,b,c,d,e,f){this.id=a;this.e=cc("c:"+this.id+":");this.lb=c;this.Kb=d;this.U=e;this.jd=f;this.D=b;this.uc=[];this.Ad=0;this.be=new rd(b);this.na=0;this.e("Connection created");wd(this)}
function wd(a){var b=ud(a.be);a.C=new b("c:"+a.id+":"+a.Ad++,a.D);a.nd=b.responsesRequiredToBeHealthy||0;var c=xd(a,a.C),d=yd(a,a.C);a.$b=a.C;a.Xb=a.C;a.w=null;a.Pa=!1;setTimeout(function(){a.C&&a.C.open(c,d)},Math.floor(0));b=b.healthyTimeout||0;0<b&&(a.hc=setTimeout(function(){a.hc=null;a.Pa||(a.C&&102400<a.C.Ka?(a.e("Connection exceeded healthy timeout but has received "+a.C.Ka+" bytes.  Marking connection healthy."),a.Pa=!0,a.C.kc()):a.C&&10240<a.C.La?a.e("Connection exceeded healthy timeout but has sent "+
a.C.La+" bytes.  Leaving connection alive."):(a.e("Closing unhealthy connection after timeout."),a.close()))},Math.floor(b)))}function yd(a,b){return function(c){b===a.C?(a.C=null,c||0!==a.na?1===a.na&&a.e("Realtime connection lost."):(a.e("Realtime connection failed."),"s-"===a.D.ha.substr(0,2)&&(ub.remove("host:"+a.D.host),a.D.ha=a.D.host)),a.close()):b===a.w?(a.e("Secondary connection lost."),c=a.w,a.w=null,a.$b!==c&&a.Xb!==c||a.close()):a.e("closing an old connection")}}
function xd(a,b){return function(c){if(2!=a.na)if(b===a.Xb){var d=kc("t",c);c=kc("d",c);if("c"==d){if(d=kc("t",c),"d"in c)if(c=c.d,"h"===d){var d=c.ts,e=c.v,f=c.h;a.Dc=c.s;wb(a.D,f);0==a.na&&(a.C.start(),zd(a,a.C,d),"5"!==e&&M("Protocol version mismatch detected"),c=a.be,(c=1<c.Zb.length?c.Zb[1]:null)&&Ad(a,c))}else if("n"===d){a.e("recvd end transmission on primary");a.Xb=a.w;for(c=0;c<a.uc.length;++c)a.rc(a.uc[c]);a.uc=[];Bd(a)}else"s"===d?(a.e("Connection shutdown command received. Shutting down..."),
a.jd&&(a.jd(c),a.jd=null),a.U=null,a.close()):"r"===d?(a.e("Reset packet received.  New host: "+c),wb(a.D,c),1===a.na?a.close():(Ed(a),wd(a))):"e"===d?dc("Server Error: "+c):"o"===d?(a.e("got pong on primary."),Fd(a),Gd(a)):dc("Unknown control packet command: "+d)}else"d"==d&&a.rc(c)}else if(b===a.w)if(d=kc("t",c),c=kc("d",c),"c"==d)"t"in c&&(c=c.t,"a"===c?Hd(a):"r"===c?(a.e("Got a reset on secondary, closing it"),a.w.close(),a.$b!==a.w&&a.Xb!==a.w||a.close()):"o"===c&&(a.e("got pong on secondary."),
a.Wd--,Hd(a)));else if("d"==d)a.uc.push(c);else throw Error("Unknown protocol layer: "+d);else a.e("message on old connection")}}vd.prototype.Yd=function(a){Id(this,{t:"d",d:a})};function Bd(a){a.$b===a.w&&a.Xb===a.w&&(a.e("cleaning up and promoting a connection: "+a.w.Sc),a.C=a.w,a.w=null)}
function Hd(a){0>=a.Wd?(a.e("Secondary connection is healthy."),a.Pa=!0,a.w.kc(),a.w.start(),a.e("sending client ack on secondary"),a.w.send({t:"c",d:{t:"a",d:{}}}),a.e("Ending transmission on primary"),a.C.send({t:"c",d:{t:"n",d:{}}}),a.$b=a.w,Bd(a)):(a.e("sending ping on secondary."),a.w.send({t:"c",d:{t:"p",d:{}}}))}vd.prototype.rc=function(a){Fd(this);this.lb(a)};function Fd(a){a.Pa||(a.nd--,0>=a.nd&&(a.e("Primary connection is healthy."),a.Pa=!0,a.C.kc()))}
function Ad(a,b){a.w=new b("c:"+a.id+":"+a.Ad++,a.D,a.Dc);a.Wd=b.responsesRequiredToBeHealthy||0;a.w.open(xd(a,a.w),yd(a,a.w));setTimeout(function(){a.w&&(a.e("Timed out trying to upgrade."),a.w.close())},Math.floor(6E4))}function zd(a,b,c){a.e("Realtime connection established.");a.C=b;a.na=1;a.Kb&&(a.Kb(c),a.Kb=null);0===a.nd?(a.e("Primary connection is healthy."),a.Pa=!0):setTimeout(function(){Gd(a)},Math.floor(5E3))}
function Gd(a){a.Pa||1!==a.na||(a.e("sending ping on primary."),Id(a,{t:"c",d:{t:"p",d:{}}}))}function Id(a,b){if(1!==a.na)throw"Connection is not connected";a.$b.send(b)}vd.prototype.close=function(){2!==this.na&&(this.e("Closing realtime connection."),this.na=2,Ed(this),this.U&&(this.U(),this.U=null))};function Ed(a){a.e("Shutting down all connections");a.C&&(a.C.close(),a.C=null);a.w&&(a.w.close(),a.w=null);a.hc&&(clearTimeout(a.hc),a.hc=null)};function Jd(a){var b={},c={},d={},e="";try{var f=a.split("."),b=ta(Wb(f[0])||""),c=ta(Wb(f[1])||""),e=f[2],d=c.d||{};delete c.d}catch(g){}return{ef:b,Qc:c,data:d,Ue:e}}function Kd(a){a=Jd(a).Qc;return"object"===typeof a&&a.hasOwnProperty("iat")?B(a,"iat"):null}function Ld(a){a=Jd(a);var b=a.Qc;return!!a.Ue&&!!b&&"object"===typeof b&&b.hasOwnProperty("iat")};function Md(a,b,c,d,e){this.id=Nd++;this.e=cc("p:"+this.id+":");this.Wa=!0;this.ia={};this.V=[];this.Mb=0;this.Jb=[];this.T=!1;this.ua=1E3;this.lc=3E5;this.sc=b||ba;this.qc=c||ba;this.kd=d||ba;this.$c=e||ba;this.D=a;this.rd=null;this.Ub={};this.Oe=0;this.Fb=this.dd=null;Od(this,0);Gc.gb().Ra("visible",this.Ie,this);-1===a.host.indexOf("fblocal")&&Hc.gb().Ra("online",this.Ge,this)}var Nd=0,Pd=0;k=Md.prototype;
k.Ga=function(a,b,c){var d=++this.Oe;a={r:d,a:a,b:b};this.e(u(a));v(this.T,"sendRequest_ call when we're not connected not allowed.");this.la.Yd(a);c&&(this.Ub[d]=c)};function Qd(a,b,c){var d=b.toString(),e=b.path().toString();a.ia[e]=a.ia[e]||{};v(!a.ia[e][d],"listen() called twice for same path/queryId.");a.ia[e][d]={nb:b.nb(),G:c};a.T&&Rd(a,e,d,b.nb(),c)}
function Rd(a,b,c,d,e){a.e("Listen on "+b+" for "+c);var f={p:b};d=Eb(d,function(a){return Qa(a)});"{}"!==c&&(f.q=d);f.h=a.$c(b);a.Ga("l",f,function(d){a.e("listen response",d);d=d.s;"ok"!==d&&Sd(a,b,c);e&&e(d)})}k.I=function(a,b,c){this.$a={re:a,Fd:!1,ba:b,cc:c};this.e("Authenticating using credential: "+a);Td(this);(b=40==a.length)||(a=Jd(a).Qc,b="object"===typeof a&&!0===B(a,"admin"));b&&(this.e("Admin auth credential detected.  Reducing max reconnect time."),this.lc=3E4)};
k.yd=function(a){delete this.$a;this.T&&this.Ga("unauth",{},function(b){a(b.s,b.d)})};function Td(a){var b=a.$a;a.T&&b&&a.Ga("auth",{cred:b.re},function(c){var d=c.s;c=c.d||"error";"ok"!==d&&a.$a===b&&delete a.$a;b.Fd?"ok"!==d&&b.cc&&b.cc(d,c):(b.Fd=!0,b.ba&&b.ba(d,c))})}function Ud(a,b,c,d){b=b.toString();Sd(a,b,c)&&a.T&&Vd(a,b,c,d)}function Vd(a,b,c,d){a.e("Unlisten on "+b+" for "+c);b={p:b};d=Eb(d,function(a){return Qa(a)});"{}"!==c&&(b.q=d);a.Ga("u",b)}
function Wd(a,b,c,d){a.T?Xd(a,"o",b,c,d):a.Jb.push({Ob:b,action:"o",data:c,G:d})}function Yd(a,b,c,d){a.T?Xd(a,"om",b,c,d):a.Jb.push({Ob:b,action:"om",data:c,G:d})}k.hd=function(a,b){this.T?Xd(this,"oc",a,null,b):this.Jb.push({Ob:a,action:"oc",data:null,G:b})};function Xd(a,b,c,d,e){c={p:c,d:d};a.e("onDisconnect "+b,c);a.Ga(b,c,function(a){e&&setTimeout(function(){e(a.s,a.d)},Math.floor(0))})}k.put=function(a,b,c,d){Zd(this,"p",a,b,c,d)};function $d(a,b,c,d){Zd(a,"m",b,c,d,void 0)}
function Zd(a,b,c,d,e,f){c={p:c,d:d};m(f)&&(c.h=f);a.V.push({action:b,Td:c,G:e});a.Mb++;b=a.V.length-1;a.T&&ae(a,b)}function ae(a,b){var c=a.V[b].action,d=a.V[b].Td,e=a.V[b].G;a.V[b].Le=a.T;a.Ga(c,d,function(d){a.e(c+" response",d);delete a.V[b];a.Mb--;0===a.Mb&&(a.V=[]);e&&e(d.s,d.d)})}
k.rc=function(a){if("r"in a){this.e("from server: "+u(a));var b=a.r,c=this.Ub[b];c&&(delete this.Ub[b],c(a.b))}else{if("error"in a)throw"A server-side error has occurred: "+a.error;"a"in a&&(b=a.a,c=a.b,this.e("handleServerMessage",b,c),"d"===b?this.sc(c.p,c.d,!1):"m"===b?this.sc(c.p,c.d,!0):"c"===b?be(this,c.p,c.q):"ac"===b?(a=c.s,b=c.d,c=this.$a,delete this.$a,c&&c.cc&&c.cc(a,b)):"sd"===b?this.rd?this.rd(c):"msg"in c&&"undefined"!==typeof console&&console.log("FIREBASE: "+c.msg.replace("\n","\nFIREBASE: ")):
dc("Unrecognized action received from server: "+u(b)+"\nAre you using the latest client?"))}};k.Kb=function(a){this.e("connection ready");this.T=!0;this.Fb=(new Date).getTime();this.kd({serverTimeOffset:a-(new Date).getTime()});Td(this);for(var b in this.ia)for(var c in this.ia[b])a=this.ia[b][c],Rd(this,b,c,a.nb,a.G);for(b=0;b<this.V.length;b++)this.V[b]&&ae(this,b);for(;this.Jb.length;)b=this.Jb.shift(),Xd(this,b.action,b.Ob,b.data,b.G);this.qc(!0)};
function Od(a,b){v(!a.la,"Scheduling a connect when we're already connected/ing?");a.eb&&clearTimeout(a.eb);a.eb=setTimeout(function(){a.eb=null;ce(a)},Math.floor(b))}k.Ie=function(a){a&&!this.ub&&this.ua===this.lc&&(this.e("Window became visible.  Reducing delay."),this.ua=1E3,this.la||Od(this,0));this.ub=a};
k.Ge=function(a){a?(this.e("Browser went online.  Reconnecting."),this.ua=1E3,this.Wa=!0,this.la||Od(this,0)):(this.e("Browser went offline.  Killing connection; don't reconnect."),this.Wa=!1,this.la&&this.la.close())};
k.Pd=function(){this.e("data client disconnected");this.T=!1;this.la=null;for(var a=0;a<this.V.length;a++){var b=this.V[a];b&&"h"in b.Td&&b.Le&&(b.G&&b.G("disconnect"),delete this.V[a],this.Mb--)}0===this.Mb&&(this.V=[]);if(this.Wa)this.ub?this.Fb&&(3E4<(new Date).getTime()-this.Fb&&(this.ua=1E3),this.Fb=null):(this.e("Window isn't visible.  Delaying reconnect."),this.ua=this.lc,this.dd=(new Date).getTime()),a=Math.max(0,this.ua-((new Date).getTime()-this.dd)),a*=Math.random(),this.e("Trying to reconnect in "+
a+"ms"),Od(this,a),this.ua=Math.min(this.lc,1.3*this.ua);else for(var c in this.Ub)delete this.Ub[c];this.qc(!1)};function ce(a){if(a.Wa){a.e("Making a connection attempt");a.dd=(new Date).getTime();a.Fb=null;var b=r(a.rc,a),c=r(a.Kb,a),d=r(a.Pd,a),e=a.id+":"+Pd++;a.la=new vd(e,a.D,b,c,d,function(b){M(b+" ("+a.D.toString()+")");a.Wa=!1})}}k.Na=function(){this.Wa=!1;this.la?this.la.close():(this.eb&&(clearTimeout(this.eb),this.eb=null),this.T&&this.Pd())};
k.qb=function(){this.Wa=!0;this.ua=1E3;this.T||Od(this,0)};function be(a,b,c){c=c?Eb(c,function(a){return Ra(a)}).join("$"):"{}";(a=Sd(a,b,c))&&a.G&&a.G("permission_denied")}function Sd(a,b,c){b=(new H(b)).toString();c||(c="{}");var d=a.ia[b][c];delete a.ia[b][c];return d};function de(){this.o=this.H=null}de.prototype.ob=function(a,b){if(a.f())this.H=b,this.o=null;else if(null!==this.H)this.H=this.H.Aa(a,b);else{null==this.o&&(this.o=new dd);var c=D(a);this.o.contains(c)||this.o.add(c,new de);c=this.o.get(c);a=Sa(a);c.ob(a,b)}};
function ee(a,b){if(b.f())return a.H=null,a.o=null,!0;if(null!==a.H){if(a.H.Q())return!1;var c=a.H;a.H=null;c.B(function(b,c){a.ob(new H(b),c)});return ee(a,b)}return null!==a.o?(c=D(b),b=Sa(b),a.o.contains(c)&&ee(a.o.get(c),b)&&a.o.remove(c),a.o.f()?(a.o=null,!0):!1):!0}function fe(a,b,c){null!==a.H?c(b,a.H):a.B(function(a,e){var f=new H(b.toString()+"/"+a);fe(e,f,c)})}de.prototype.B=function(a){null!==this.o&&ed(this.o,function(b,c){a(b,c)})};function ge(){this.aa=P}function T(a,b){return a.aa.N(b)}function U(a,b,c){a.aa=a.aa.Aa(b,c)}ge.prototype.toString=function(){return this.aa.toString()};function he(){this.va=new ge;this.O=new ge;this.pa=new ge;this.Pb=new Wa}function ie(a,b,c){U(a.va,b,c);return je(a,b)}function je(a,b){for(var c=T(a.va,b),d=T(a.O,b),e=I(a.Pb,b),f=!1,g=e;null!==g;){if(null!==g.k()){f=!0;break}g=g.parent()}if(f)return!1;c=ke(c,d,e);return c!==d?(U(a.O,b,c),!0):!1}function ke(a,b,c){if(c.f())return a;if(null!==c.k())return b;a=a||P;c.B(function(d){d=d.name();var e=a.P(d),f=b.P(d),g=I(c,d),e=ke(e,f,g);a=a.K(d,e)});return a}
he.prototype.set=function(a,b){var c=this,d=[];Cb(b,function(a){var b=a.path;a=a.ta;var g=Vb();Xa(I(c.Pb,b),g);U(c.O,b,a);d.push({path:b,Re:g})});return d};function le(a,b){Cb(b,function(b){var d=b.Re;b=I(a.Pb,b.path);var e=b.k();v(null!==e,"pendingPut should not be null.");e===d&&Xa(b,null)})};function me(a,b){return a&&"object"===typeof a?(v(".sv"in a,"Unexpected leaf node or priority contents"),b[a[".sv"]]):a}function ne(a,b){var c=new de;fe(a,new H(""),function(a,e){c.ob(a,oe(e,b))});return c}function oe(a,b){var c=me(a.m(),b),d;if(a.Q()){var e=me(a.k(),b);return e!==a.k()||c!==a.m()?new tc(e,c):a}d=a;c!==a.m()&&(d=d.Ia(c));a.B(function(a,c){var e=oe(c,b);e!==c&&(d=d.K(a,e))});return d};var pe="auth.firebase.com";function qe(a,b,c){this.ec=a||{};this.Ic=b||{};this.rb=c||{};this.ec.remember||(this.ec.remember="default")}var re=["remember","redirectTo"];function se(a){var b={},c={};ya(a||{},function(a,e){0<=Bb(re,a)?b[a]=e:c[a]=e});return new qe(b,{},c)};var te={NETWORK_ERROR:"Unable to contact the Firebase server.",SERVER_ERROR:"An unknown server error occurred.",TRANSPORT_UNAVAILABLE:"There are no login transports available for the requested method.",REQUEST_INTERRUPTED:"The browser redirected the page before the login request could complete.",USER_CANCELLED:"The user cancelled authentication."};function V(a){var b=Error(B(te,a),a);b.code=a;return b};function ue(){var a=window.opener.frames,b;for(b=a.length-1;0<=b;b--)try{if(a[b].location.protocol===window.location.protocol&&a[b].location.host===window.location.host&&"__winchan_relay_frame"===a[b].name)return a[b]}catch(c){}return null}function ve(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener&&a.addEventListener(b,c,!1)}function we(a,b,c){a.detachEvent?a.detachEvent("on"+b,c):a.removeEventListener&&a.removeEventListener(b,c,!1)}
function xe(a){/^https?:\/\//.test(a)||(a=window.location.href);var b=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(a);return b?b[1]:a}function ye(a){var b="";try{a=a.replace("#","");var c={},d=a.replace(/^\?/,"").split("&");for(a=0;a<d.length;a++)if(d[a]){var e=d[a].split("=");c[e[0]]=e[1]}c&&A(c,"__firebase_request_key")&&(b=B(c,"__firebase_request_key"))}catch(f){}return b}
function ze(a){var b=[],c;for(c in a)if(A(a,c)){var d=B(a,c);if(ea(d))for(var e=0;e<d.length;e++)b.push(encodeURIComponent(c)+"="+encodeURIComponent(d[e]));else b.push(encodeURIComponent(c)+"="+encodeURIComponent(B(a,c)))}return b.join("&")}function Ae(){var a=fc(pe);return a.scheme+"://"+a.host+"/v2"};function Be(){var a=navigator.userAgent;if("Microsoft Internet Explorer"===navigator.appName){if((a=a.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/))&&1<a.length)return 8<=parseFloat(a[1])}else if(-1<a.indexOf("Trident")&&(a=a.match(/rv:([0-9]{2,2}[\.0-9]{0,})/))&&1<a.length)return 8<=parseFloat(a[1]);return!1};function Ce(a){a=a||{};a.method||(a.method="GET");a.headers||(a.headers={});a.headers.content_type||(a.headers.content_type="application/json");a.headers.content_type=a.headers.content_type.toLowerCase();this.options=a}
Ce.prototype.open=function(a,b,c){function d(){c&&(c(V("REQUEST_INTERRUPTED")),c=null)}var e=new XMLHttpRequest,f=this.options.method.toUpperCase(),g;ve(window,"beforeunload",d);e.onreadystatechange=function(){if(c&&4===e.readyState){var a;if(200<=e.status&&300>e.status){try{a=ta(e.responseText)}catch(b){}c(null,a)}else 500<=e.status&&600>e.status?c(V("SERVER_ERROR")):c(V("NETWORK_ERROR"));c=null;we(window,"beforeunload",d)}};if("GET"===f)a+=(/\?/.test(a)?"":"?")+ze(b),g=null;else{var h=this.options.headers.content_type;
"application/json"===h&&(g=u(b));"application/x-www-form-urlencoded"===h&&(g=ze(b))}e.open(f,a,!0);a={"X-Requested-With":"XMLHttpRequest",Accept:"application/json;text/plain"};Mc(a,this.options.headers);for(var l in a)e.setRequestHeader(l,a[l]);e.send(g)};Ce.isAvailable=function(){return!1};Ce.prototype.xb=function(){return"json"};function De(a){a=a||{};this.Vb=Ab()+Ab()+Ab();this.Qd=a||{}}
De.prototype.open=function(a,b,c){function d(){c&&(c(V("USER_CANCELLED")),c=null)}var e=this,f=fc(pe),g;b.requestId=this.Vb;b.redirectTo=f.scheme+"://"+f.host+"/blank/page.html";a+=/\?/.test(a)?"":"?";a+=ze(b);(g=window.open(a,"_blank","location=no"))&&ha(g.addEventListener)?(g.addEventListener("loadstart",function(a){var b;if(b=a&&a.url)a:{var f=a.url;try{var p=document.createElement("a");p.href=f;b=p.host===fc(pe).host&&"/blank/page.html"===p.pathname;break a}catch(s){}b=!1}b&&(a=ye(a.url),g.removeEventListener("exit",
d),g.close(),a=new qe(null,null,{requestId:e.Vb,requestKey:a}),e.Qd.requestWithCredential("/auth/session",a,c),c=null)}),g.addEventListener("exit",d)):c(V("TRANSPORT_UNAVAILABLE"))};De.isAvailable=function(){return!1};De.prototype.xb=function(){return"redirect"};function Ee(a){a=a||{};if(!a.window_features||-1!==navigator.userAgent.indexOf("Fennec/")||-1!==navigator.userAgent.indexOf("Firefox/")&&-1!==navigator.userAgent.indexOf("Android"))a.window_features=void 0;a.window_name||(a.window_name="_blank");a.relay_url||(a.relay_url=Ae()+"/auth/channel");this.options=a}
Ee.prototype.open=function(a,b,c){function d(a){g&&(document.body.removeChild(g),g=void 0);p&&(p=clearInterval(p));we(window,"message",e);we(window,"unload",d);if(n&&!a)try{n.close()}catch(b){h.postMessage("die",l)}n=h=void 0}function e(a){if(a.origin===l)try{var b=ta(a.data);"ready"===b.a?h.postMessage(s,l):"error"===b.a?(d(!1),c&&(c(b.d),c=null)):"response"===b.a&&(d(b.forceKeepWindowOpen),c&&(c(null,b.d),c=null))}catch(e){}}var f=Be(),g,h,l=xe(a);if(l!==xe(this.options.relay_url))c&&setTimeout(function(){c(Error("invalid arguments: origin of url and relay_url must match"))},
0);else{f&&(g=document.createElement("iframe"),g.setAttribute("src",this.options.relay_url),g.style.display="none",g.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(g),h=g.contentWindow);a+=(/\?/.test(a)?"":"?")+ze(b);var n=window.open(a,this.options.window_name,this.options.window_features);h||(h=n);var p=setInterval(function(){n&&n.closed&&(d(!1),c&&(c(V("USER_CANCELLED")),c=null))},500),s=u({a:"request",d:b});ve(window,"unload",d);ve(window,"message",e)}};
Ee.isAvailable=function(){return!1};Ee.prototype.xb=function(){return"popup"};function Fe(a){a=a||{};a.callback_parameter||(a.callback_parameter="callback");this.options=a;window.__firebase_auth_jsonp=window.__firebase_auth_jsonp||{}}
Fe.prototype.open=function(a,b,c){function d(){c&&(c(V("REQUEST_INTERRUPTED")),c=null)}function e(){setTimeout(function(){delete window.__firebase_auth_jsonp[f];Jc(window.__firebase_auth_jsonp)&&delete window.__firebase_auth_jsonp;try{var a=document.getElementById(f);a&&a.parentNode.removeChild(a)}catch(b){}},1);we(window,"beforeunload",d)}var f="fn"+(new Date).getTime()+Math.floor(99999*Math.random());b[this.options.callback_parameter]="__firebase_auth_jsonp."+f;a+=(/\?/.test(a)?"":"?")+ze(b);ve(window,
"beforeunload",d);window.__firebase_auth_jsonp[f]=function(a){c&&(c(null,a),c=null);e()};Ge(f,a,c)};function Ge(a,b,c){setTimeout(function(){try{var d=document.createElement("script");d.type="text/javascript";d.id=a;d.async=!0;d.src=b;d.onerror=function(){var b=document.getElementById(a);null!==b&&b.parentNode.removeChild(b);c&&c(V("NETWORK_ERROR"))};var e=document.getElementsByTagName("head");(e&&0!=e.length?e[0]:document.documentElement).appendChild(d)}catch(f){c&&c(V("NETWORK_ERROR"))}},0)}
Fe.isAvailable=function(){return!1};Fe.prototype.xb=function(){return"json"};function He(a,b){this.md=["session",a.wc,a.Qa].join(":");this.Fc=b}He.prototype.set=function(a,b){if(!b)if(this.Fc.length)b=this.Fc[0];else throw Error("fb.login.SessionManager : No storage options available!");b.set(this.md,a)};He.prototype.get=function(){var a=Eb(this.Fc,r(this.we,this)),a=Db(a,function(a){return null!==a});Ib(a,function(a,c){return Kd(c.token)-Kd(a.token)});return 0<a.length?a.shift():null};He.prototype.we=function(a){try{var b=a.get(this.md);if(b&&b.token)return b}catch(c){}return null};
He.prototype.clear=function(){var a=this;Cb(this.Fc,function(b){b.remove(a.md)})};function Ie(a){a=a||{};this.Vb=Ab()+Ab()+Ab();this.Qd=a||{}}Ie.prototype.open=function(a,b){J.set("redirect_request_id",this.Vb);b.requestId=this.Vb;b.redirectTo=b.redirectTo||window.location.href;a+=(/\?/.test(a)?"":"?")+ze(b);window.location=a};Ie.isAvailable=function(){return!1};Ie.prototype.xb=function(){return"redirect"};function Je(a,b,c,d){Ec.call(this,["auth_status"]);this.D=a;this.zd=b;this.Xe=c;this.fd=d;this.sb=new He(a,[ub,J]);this.Ja=null;Ke(this)}ma(Je,Ec);k=Je.prototype;k.Yc=function(){return this.Ja||null};function Ke(a){J.get("redirect_request_id")&&Le(a);var b=a.sb.get();b&&b.token?(Me(a,b),a.zd(b.token,function(c,d){Ne(a,c,d,!1,b.token,b)},function(b,d){Oe(a,"resumeSession()",b,d)})):Me(a,null)}
function Pe(a,b,c,d,e,f){"firebaseio-demo.com"===a.D.domain&&M("FirebaseRef.auth() not supported on demo Firebases (*.firebaseio-demo.com). Please use on production Firebases only (*.firebaseio.com).");a.zd(b,function(f,h){Ne(a,f,h,!0,b,c,d||{},e)},function(b,c){Oe(a,"auth()",b,c,f)})}function Qe(a,b){a.sb.clear();Me(a,null);a.Xe(function(a,d){if("ok"===a)O(b);else{var e=(a||"error").toUpperCase(),f=e;d&&(f+=": "+d);f=Error(f);f.code=e;O(b,f)}})}
function Ne(a,b,c,d,e,f,g,h){"ok"===b?(d&&(b=c.auth,f.auth=b,f.expires=c.expires,f.token=Ld(e)?e:"",c=null,b&&A(b,"uid")?c=B(b,"uid"):A(f,"uid")&&(c=B(f,"uid")),f.uid=c,c="custom",b&&A(b,"provider")?c=B(b,"provider"):A(f,"provider")&&(c=B(f,"provider")),f.provider=c,a.sb.clear(),Ld(e)&&(g=g||{},c=ub,"sessionOnly"===g.remember&&(c=J),"none"!==g.remember&&a.sb.set(f,c)),Me(a,f)),O(h,null,f)):(a.sb.clear(),Me(a,null),f=a=(b||"error").toUpperCase(),c&&(f+=": "+c),f=Error(f),f.code=a,O(h,f))}
function Oe(a,b,c,d,e){M(b+" was canceled: "+d);a.sb.clear();Me(a,null);a=Error(d);a.code=c.toUpperCase();O(e,a)}function Re(a,b,c,d,e){Se(a);var f=[Ce,Fe];c=new qe(d,{},c);Te(a,f,"/auth/"+b,c,e)}
function Ue(a,b,c,d){Se(a);var e=[Ee,De];c=se(c);"anonymous"===b||"password"===b?setTimeout(function(){O(d,V("TRANSPORT_UNAVAILABLE"))},0):(c.Ic.window_features="menubar=yes,modal=yes,alwaysRaised=yeslocation=yes,resizable=yes,scrollbars=yes,status=yes,height=625,width=625,top="+("object"===typeof screen?.5*(screen.height-625):0)+",left="+("object"===typeof screen?.5*(screen.width-625):0),c.Ic.relay_url=Ae()+"/"+a.D.Qa+"/auth/channel",c.Ic.requestWithCredential=r(a.Wb,a),Te(a,e,"/auth/"+b,c,d))}
function Le(a){var b=J.get("redirect_request_id");if(b){var c=J.get("redirect_client_options");J.remove("redirect_request_id");J.remove("redirect_client_options");var d=[Ce,Fe],b={requestId:b,requestKey:ye(document.location.hash)},c=new qe(c,{},b);try{document.location.hash=document.location.hash.replace(/&__firebase_request_key=([a-zA-z0-9]*)/,"")}catch(e){}Te(a,d,"/auth/session",c)}}k.Tc=function(a,b){Se(this);var c=se(a);c.rb._method="POST";this.Wb("/users",c,function(a){O(b,a)})};
k.pd=function(a,b){var c=this;Se(this);var d="/users/"+encodeURIComponent(a.email),e=se(a);e.rb._method="DELETE";this.Wb(d,e,function(a,d){!a&&d&&d.uid&&c.Ja&&c.Ja.uid&&c.Ja.uid===d.uid&&Qe(c);O(b,a)})};k.Pc=function(a,b){Se(this);var c="/users/"+encodeURIComponent(a.email)+"/password",d=se(a);d.rb._method="PUT";d.rb.password=a.newPassword;this.Wb(c,d,function(a){O(b,a)})};
k.qd=function(a,b){Se(this);var c="/users/"+encodeURIComponent(a.email)+"/password",d=se(a);d.rb._method="POST";this.Wb(c,d,function(a){O(b,a)})};k.Wb=function(a,b,c){Ve(this,[Ce,Fe],a,b,c)};function Te(a,b,c,d,e){Ve(a,b,c,d,function(b,c){!b&&c&&c.token&&c.uid?Pe(a,c.token,c,d.ec,function(a,b){a?O(e,a):O(e,null,b)}):O(e,b||V("UNKNOWN_ERROR"))})}
function Ve(a,b,c,d,e){b=Db(b,function(a){return"function"===typeof a.isAvailable&&a.isAvailable()});0===b.length?setTimeout(function(){O(e,V("TRANSPORT_UNAVAILABLE"))},0):(b=new (b.shift())(d.Ic),d=za(d.rb),d.v="js-1.1.3",d.transport=b.xb(),d.suppress_status_codes=!0,a=Ae()+"/"+a.D.Qa+c,b.open(a,d,function(a,b){if(a)O(e,a);else if(b&&b.error){var c=Error(b.error.message);c.code=b.error.code;c.details=b.error.details;O(e,c)}else O(e,null,b)}))}
function Me(a,b){var c=null!==a.Ja||null!==b;a.Ja=b;c&&a.Jc("auth_status",b);a.fd(null!==b)}k.Zc=function(a){v("auth_status"===a,'initial event must be of type "auth_status"');return[this.Ja]};function Se(a){var b=a.D;if("firebaseio.com"!==b.domain&&"firebaseio-demo.com"!==b.domain&&"auth.firebase.com"===pe)throw Error("This custom Firebase server ('"+a.D.domain+"') does not support delegated login.");};function We(){this.fb=[]}function Xe(a,b){if(0!==b.length)for(var c=0;c<b.length;c++)a.fb.push(b[c])}We.prototype.Sb=function(){for(var a=0;a<this.fb.length;a++)if(this.fb[a]){var b=this.fb[a];this.fb[a]=null;Ye(b)}this.fb=[]};function Ye(a){var b=a.ba,c=a.Zd,d=a.Rb;sc(function(){b(c,d)})};function W(a,b,c,d){this.type=a;this.wa=b;this.ca=c;this.Rb=d};function Ze(a){this.S=a;this.ra=[];this.Vc=new We}function $e(a,b,c,d,e){a.ra.push({type:b,ba:c,cancel:d,$:e});d=[];var f=af(a.j);a.Db&&f.push(new W("value",a.j));for(var g=0;g<f.length;g++)if(f[g].type===b){var h=new G(a.S.i,a.S.path);f[g].ca&&(h=h.J(f[g].ca));d.push({ba:oc(c,e),Zd:new S(f[g].wa,h),Rb:f[g].Rb})}Xe(a.Vc,d)}Ze.prototype.yc=function(a,b){b=this.zc(a,b);null!=b&&bf(this,b)};
function bf(a,b){for(var c=[],d=0;d<b.length;d++){var e=b[d],f=e.type,g=new G(a.S.i,a.S.path);b[d].ca&&(g=g.J(b[d].ca));g=new S(b[d].wa,g);"value"!==e.type||g.Cb()?"value"!==e.type&&(f+=" "+g.name()):f+="("+g.X()+")";Xb(a.S.i.n.id+": event:"+a.S.path+":"+a.S.Ta()+":"+f);for(f=0;f<a.ra.length;f++){var h=a.ra[f];b[d].type===h.type&&c.push({ba:oc(h.ba,h.$),Zd:g,Rb:e.Rb})}}Xe(a.Vc,c)}Ze.prototype.Sb=function(){this.Vc.Sb()};
function af(a){var b=[];if(!a.Q()){var c=null;a.B(function(a,e){b.push(new W("child_added",e,a,c));c=a})}return b}function cf(a){a.Db||(a.Db=!0,bf(a,[new W("value",a.j)]))};function df(a,b){Ze.call(this,a);this.j=b}ma(df,Ze);df.prototype.zc=function(a,b){this.j=a;this.Db&&null!=b&&b.push(new W("value",this.j));return b};df.prototype.Bb=function(){return{}};function ef(a,b){this.gc=a;this.gd=b}function ff(a,b,c,d,e){var f=a.N(c),g=b.N(c);d=new ef(d,e);e=gf(d,c,f,g);g=!f.f()&&!g.f()&&f.m()!==g.m();if(e||g)for(f=c,c=e;null!==f.parent();){var h=a.N(f);e=b.N(f);var l=f.parent();if(!d.gc||I(d.gc,l).k()){var n=b.N(l),p=[],f=Ta(f);h.f()?(h=n.ga(f,e),p.push(new W("child_added",e,f,h))):e.f()?p.push(new W("child_removed",h,f)):(h=n.ga(f,e),g&&p.push(new W("child_moved",e,f,h)),c&&p.push(new W("child_changed",e,f,h)));d.gd(l,n,p)}g&&(g=!1,c=!0);f=l}}
function gf(a,b,c,d){var e,f=[];c===d?e=!1:c.Q()&&d.Q()?e=c.k()!==d.k():c.Q()?(hf(a,b,P,d,f),e=!0):d.Q()?(hf(a,b,c,P,f),e=!0):e=hf(a,b,c,d,f);e?a.gd(b,d,f):c.m()!==d.m()&&a.gd(b,d,null);return e}
function hf(a,b,c,d,e){var f=!1,g=!a.gc||!I(a.gc,b).f(),h=[],l=[],n=[],p=[],s={},t={},w,$,K,N;w=c.hb();K=fb(w);$=d.hb();for(N=fb($);null!==K||null!==N;){c=N;c=null===K?1:null===c?-1:K.key===c.key?0:vc({name:K.key,ka:K.value.m()},{name:c.key,ka:c.value.m()});if(0>c)f=B(s,K.key),m(f)?(n.push({Xc:K,wd:h[f]}),h[f]=null):(t[K.key]=l.length,l.push(K)),f=!0,K=fb(w);else{if(0<c)f=B(t,N.key),m(f)?(n.push({Xc:l[f],wd:N}),l[f]=null):(s[N.key]=h.length,h.push(N)),f=!0;else{c=b.J(N.key);if(c=gf(a,c,K.value,N.value))p.push(N),
f=!0;K.value.m()!==N.value.m()&&(n.push({Xc:K,wd:N}),f=!0);K=fb(w)}N=fb($)}if(!g&&f)return!0}for(g=0;g<l.length;g++)if(s=l[g])c=b.J(s.key),gf(a,c,s.value,P),e.push(new W("child_removed",s.value,s.key));for(g=0;g<h.length;g++)if(s=h[g])c=b.J(s.key),l=d.ga(s.key,s.value),gf(a,c,P,s.value),e.push(new W("child_added",s.value,s.key,l));for(g=0;g<n.length;g++)s=n[g].Xc,h=n[g].wd,c=b.J(h.key),l=d.ga(h.key,h.value),e.push(new W("child_moved",h.value,h.key,l)),(c=gf(a,c,s.value,h.value))&&p.push(h);for(g=
0;g<p.length;g++)a=p[g],l=d.ga(a.key,a.value),e.push(new W("child_changed",a.value,a.key,l));return f};function jf(){this.Z=this.za=null;this.set={}}ma(jf,dd);k=jf.prototype;k.setActive=function(a){this.za=a};function kf(a,b,c){a.add(b,c);a.Z||(a.Z=c.S.path)}function lf(a){var b=a.za;a.za=null;return b}function mf(a){return a.contains("default")}function nf(a){return null!=a.za&&mf(a)}k.defaultView=function(){return mf(this)?this.get("default"):null};k.path=function(){return this.Z};k.toString=function(){return Eb(this.keys(),function(a){return"default"===a?"{}":a}).join("$")};
k.nb=function(){var a=[];ed(this,function(b,c){a.push(c.S)});return a};function of(a,b){Ze.call(this,a);this.j=P;this.zc(b,af(b))}ma(of,Ze);
of.prototype.zc=function(a,b){if(null===b)return b;var c=[],d=this.S;m(d.ea)&&(m(d.ya)&&null!=d.ya?c.push(function(a,b){var c=hc(b,d.ea);return 0<c||0===c&&0<=ic(a,d.ya)}):c.push(function(a,b){return 0<=hc(b,d.ea)}));m(d.Ba)&&(m(d.bb)?c.push(function(a,b){var c=hc(b,d.Ba);return 0>c||0===c&&0>=ic(a,d.bb)}):c.push(function(a,b){return 0>=hc(b,d.Ba)}));var e=null,f=null;if(m(this.S.Da))if(m(this.S.ea)){if(e=pf(a,c,this.S.Da,!1)){var g=a.P(e).m();c.push(function(a,b){var c=hc(b,g);return 0>c||0===c&&
0>=ic(a,e)})}}else if(f=pf(a,c,this.S.Da,!0)){var h=a.P(f).m();c.push(function(a,b){var c=hc(b,h);return 0<c||0===c&&0<=ic(a,f)})}for(var l=[],n=[],p=[],s=[],t=0;t<b.length;t++){var w=b[t].ca,$=b[t].wa;switch(b[t].type){case "child_added":qf(c,w,$)&&(this.j=this.j.K(w,$),n.push(b[t]));break;case "child_removed":this.j.P(w).f()||(this.j=this.j.K(w,null),l.push(b[t]));break;case "child_changed":!this.j.P(w).f()&&qf(c,w,$)&&(this.j=this.j.K(w,$),s.push(b[t]));break;case "child_moved":var K=!this.j.P(w).f(),
N=qf(c,w,$);K?N?(this.j=this.j.K(w,$),p.push(b[t])):(l.push(new W("child_removed",this.j.P(w),w)),this.j=this.j.K(w,null)):N&&(this.j=this.j.K(w,$),n.push(b[t]))}}var Cd=e||f;if(Cd){var Dd=(t=null!==f)?this.j.Gd():this.j.Hd(),Pc=!1,rb=!1,sb=this;(t?a.Wc:a.B).call(a,function(a,b){rb||null!==Dd||(rb=!0);if(rb&&Pc)return!0;Pc?(l.push(new W("child_removed",sb.j.P(a),a)),sb.j=sb.j.K(a,null)):rb&&(n.push(new W("child_added",b,a)),sb.j=sb.j.K(a,b));Dd===a&&(rb=!0);a===Cd&&(Pc=!0)})}for(t=0;t<n.length;t++)c=
n[t],w=this.j.ga(c.ca,c.wa),l.push(new W("child_added",c.wa,c.ca,w));for(t=0;t<p.length;t++)c=p[t],w=this.j.ga(c.ca,c.wa),l.push(new W("child_moved",c.wa,c.ca,w));for(t=0;t<s.length;t++)c=s[t],w=this.j.ga(c.ca,c.wa),l.push(new W("child_changed",c.wa,c.ca,w));this.Db&&0<l.length&&l.push(new W("value",this.j));return l};function pf(a,b,c,d){if(a.Q())return null;var e=null;(d?a.Wc:a.B).call(a,function(a,d){if(qf(b,a,d)&&(e=a,c--,0===c))return!0});return e}
function qf(a,b,c){for(var d=0;d<a.length;d++)if(!a[d](b,c.m()))return!1;return!0}of.prototype.ad=function(a){return this.j.P(a)!==P};
of.prototype.Bb=function(a,b,c){var d={};this.j.Q()||this.j.B(function(a){d[a]=3});var e=this.j;c=T(c,new H(""));var f=new Wa;Xa(I(f,this.S.path),!0);b=P.Aa(a,b);var g=this;ff(c,b,a,f,function(a,b,c){null!==c&&a.toString()===g.S.path.toString()&&g.zc(b,c)});this.j.Q()?nc(d,function(a,b){d[b]=2}):(this.j.B(function(a){A(d,a)||(d[a]=1)}),nc(d,function(a,b){g.j.P(b).f()&&(d[b]=2)}));this.j=e;return d};function rf(a,b){this.n=a;this.g=b;this.pc=b.aa;this.oa=new Wa}rf.prototype.bc=function(a,b,c,d,e){var f=a.path,g=I(this.oa,f),h=g.k();null===h?(h=new jf,Xa(g,h)):v(!h.f(),"We shouldn't be storing empty QueryMaps");var l=a.Ta();if(h.contains(l))a=h.get(l),$e(a,b,c,d,e);else{var n=this.g.aa.N(f);a=sf(a,n);tf(this,g,h,l,a);$e(a,b,c,d,e);(b=(b=$a(I(this.oa,f),function(a){var b;if(b=a.k()&&a.k().defaultView())b=a.k().defaultView().Db;if(b)return!0},!0))||null===this.n&&!T(this.g,f).f())&&cf(a)}a.Sb()};
function uf(a,b,c,d,e){var f=a.get(b),g;if(g=f){g=!1;for(var h=f.ra.length-1;0<=h;h--){var l=f.ra[h];if(!(c&&l.type!==c||d&&l.ba!==d||e&&l.$!==e)&&(f.ra.splice(h,1),g=!0,c&&d))break}}(c=g&&!(0<f.ra.length))&&a.remove(b);return c}function vf(a,b,c,d,e){b=b?b.Ta():null;var f=[];b&&"default"!==b?uf(a,b,c,d,e)&&f.push(b):Cb(a.keys(),function(b){uf(a,b,c,d,e)&&f.push(b)});return f}rf.prototype.Bc=function(a,b,c,d){var e=I(this.oa,a.path).k();return null===e?null:wf(this,e,a,b,c,d)};
function wf(a,b,c,d,e,f){var g=b.path(),g=I(a.oa,g);c=vf(b,c,d,e,f);b.f()&&Xa(g,null);d=xf(g);if(0<c.length&&!d){d=g;e=g.parent();for(c=!1;!c&&e;){if(f=e.k()){v(!nf(f));var h=d.name(),l=!1;ed(f,function(a,b){l=b.ad(h)||l});l&&(c=!0)}d=e;e=e.parent()}d=null;nf(b)||(b=lf(b),d=yf(a,g),b&&b());return c?null:d}return null}function zf(a,b,c){Za(I(a.oa,b),function(a){(a=a.k())&&ed(a,function(a,b){cf(b)})},c,!0)}
function Af(a,b,c){function d(a){do{if(g[a.toString()])return!0;a=a.parent()}while(null!==a);return!1}var e=a.pc,f=a.g.aa;a.pc=f;for(var g={},h=0;h<c.length;h++)g[c[h].toString()]=!0;ff(e,f,b,a.oa,function(c,e,f){if(b.contains(c)){var g=d(c);g&&zf(a,c,!1);a.yc(c,e,f);g&&zf(a,c,!0)}else a.yc(c,e,f)});d(b)&&zf(a,b,!0);Bf(a,b)}function Bf(a,b){var c=I(a.oa,b);Za(c,function(a){(a=a.k())&&ed(a,function(a,b){b.Sb()})},!0,!0);$a(c,function(a){(a=a.k())&&ed(a,function(a,b){b.Sb()})},!1)}
rf.prototype.yc=function(a,b,c){a=I(this.oa,a).k();null!==a&&ed(a,function(a,e){e.yc(b,c)})};function xf(a){return $a(a,function(a){return a.k()&&nf(a.k())})}function tf(a,b,c,d,e){if(nf(c)||xf(b))kf(c,d,e);else{var f,g;c.f()||(f=c.toString(),g=c.nb());kf(c,d,e);c.setActive(Cf(a,c));f&&g&&Ud(a.n,c.path(),f,g)}nf(c)&&Za(b,function(a){if(a=a.k())a.za&&a.za(),a.za=null})}
function yf(a,b){function c(b){var f=b.k();if(f&&mf(f))d.push(f.path()),null==f.za&&f.setActive(Cf(a,f));else{if(f){null!=f.za||f.setActive(Cf(a,f));var g={};ed(f,function(a,b){b.j.B(function(a){A(g,a)||(g[a]=!0,a=f.path().J(a),d.push(a))})})}b.B(c)}}var d=[];c(b);return d}
function Cf(a,b){if(a.n){var c=a.n,d=b.path(),e=b.toString(),f=b.nb(),g,h=b.keys(),l=mf(b);Qd(a.n,b,function(c){"ok"!==c?(c=qc(c),M("on() or once() for "+b.path().toString()+" failed: "+c.toString()),Df(a,b,c)):g||(l?zf(a,b.path(),!0):Cb(h,function(a){(a=b.get(a))&&cf(a)}),Bf(a,b.path()))});return function(){g=!0;Ud(c,d,e,f)}}return ba}function Df(a,b,c){b&&(ed(b,function(a,b){for(var f=0;f<b.ra.length;f++){var g=b.ra[f];g.cancel&&oc(g.cancel,g.$)(c)}}),wf(a,b))}
function sf(a,b){return"default"===a.Ta()?new df(a,b):new of(a,b)}rf.prototype.Bb=function(a,b,c,d){function e(a){nc(a,function(a,b){f[b]=3===a?3:(B(f,b)||a)===a?a:3})}var f={};ed(b,function(b,f){e(f.Bb(a,c,d))});c.Q()||c.B(function(a){A(f,a)||(f[a]=4)});return f};function Ef(a,b,c,d,e){var f=b.path();b=a.Bb(f,b,d,e);var g=P,h=[];nc(b,function(b,n){var p=new H(n);3===b||1===b?g=g.K(n,d.N(p)):(2===b&&h.push({path:f.J(n),ta:P}),h=h.concat(Ff(a,d.N(p),I(c,p),e)))});return[{path:f,ta:g}].concat(h)}
function Gf(a,b,c,d){var e;a:{var f=I(a.oa,b);e=f.parent();for(var g=[];null!==e;){var h=e.k();if(null!==h){if(mf(h)){e=[{path:b,ta:c}];break a}h=a.Bb(b,h,c,d);f=B(h,f.name());if(3===f||1===f){e=[{path:b,ta:c}];break a}2===f&&g.push({path:b,ta:P})}f=e;e=e.parent()}e=g}if(1==e.length&&(!e[0].ta.f()||c.f()))return e;g=I(a.oa,b);f=g.k();null!==f?mf(f)?e.push({path:b,ta:c}):e=e.concat(Ef(a,f,g,c,d)):e=e.concat(Ff(a,c,g,d));return e}
function Ff(a,b,c,d){var e=c.k();if(null!==e)return mf(e)?[{path:c.path(),ta:b}]:Ef(a,e,c,b,d);var f=[];c.B(function(c){var e=b.Q()?P:b.P(c.name());c=Ff(a,e,c,d);f=f.concat(c)});return f};function Hf(a){this.D=a;this.fa=Uc(a);this.n=new Md(this.D,r(this.sc,this),r(this.qc,this),r(this.kd,this),r(this.$c,this));this.ae=Vc(a,r(function(){return new Rc(this.fa,this.n)},this));this.Xa=new Wa;this.Ha=new ge;this.g=new he;this.L=new rf(this.n,this.g.pa);this.bd=new ge;this.cd=new rf(null,this.bd);If(this,"connected",!1);this.U=new de;this.I=new Je(a,r(this.n.I,this.n),r(this.n.yd,this.n),r(this.fd,this));this.fc=0}k=Hf.prototype;
k.toString=function(){return(this.D.Va?"https://":"http://")+this.D.host};k.name=function(){return this.D.Qa};function Jf(a){a=T(a.bd,new H(".info/serverTimeOffset")).X()||0;return(new Date).getTime()+a}function Kf(a){a=a={timestamp:Jf(a)};a.timestamp=a.timestamp||(new Date).getTime();return a}
k.sc=function(a,b,c){this.fc++;this.Jd&&(b=this.Jd(a,b));var d,e,f=[];9<=a.length&&a.lastIndexOf(".priority")===a.length-9?(d=new H(a.substring(0,a.length-9)),e=T(this.g.va,d).Ia(b),f.push(d)):c?(d=new H(a),e=T(this.g.va,d),nc(b,function(a,b){var c=new H(b);".priority"===b?e=e.Ia(a):(e=e.Aa(c,R(a)),f.push(d.J(b)))})):(d=new H(a),e=R(b),f.push(d));a=Gf(this.L,d,e,this.g.O);b=!1;for(c=0;c<a.length;++c){var g=a[c];b=ie(this.g,g.path,g.ta)||b}b&&(d=Lf(this,d));Af(this.L,d,f)};
k.qc=function(a){If(this,"connected",a);!1===a&&Mf(this)};k.kd=function(a){var b=this;mc(a,function(a,d){If(b,d,a)})};k.$c=function(a){a=new H(a);return T(this.g.va,a).hash()};k.fd=function(a){If(this,"authenticated",a)};function If(a,b,c){b=new H("/.info/"+b);U(a.bd,b,R(c));Af(a.cd,b,[b])}
k.tb=function(a,b,c,d){this.e("set",{path:a.toString(),value:b,ka:c});var e=Kf(this);b=R(b,c);var e=oe(b,e),e=Gf(this.L,a,e,this.g.O),f=this.g.set(a,e),g=this;this.n.put(a.toString(),b.X(!0),function(b,c){"ok"!==b&&M("set at "+a+" failed: "+b);le(g.g,f);je(g.g,a);var e=Lf(g,a);Af(g.L,e,[]);Nf(d,b,c)});e=Of(this,a);Lf(this,e);Af(this.L,e,[a])};
k.update=function(a,b,c){this.e("update",{path:a.toString(),value:b});var d=T(this.g.pa,a),e=!0,f=[],g=Kf(this),h=[],l;for(l in b){var e=!1,n=R(b[l]),n=oe(n,g),d=d.K(l,n),p=a.J(l);f.push(p);n=Gf(this.L,p,n,this.g.O);h=h.concat(this.g.set(a,n))}if(e)Xb("update() called with empty data.  Don't do anything."),Nf(c,"ok");else{var s=this;$d(this.n,a.toString(),b,function(b,d){"ok"!==b&&M("update at "+a+" failed: "+b);le(s.g,h);je(s.g,a);var e=Lf(s,a);Af(s.L,e,[]);Nf(c,b,d)});b=Of(this,a);Lf(this,b);Af(s.L,
b,f)}};k.sd=function(a,b,c){this.e("setPriority",{path:a.toString(),ka:b});var d=Kf(this),d=me(b,d),d=T(this.g.O,a).Ia(d),d=Gf(this.L,a,d,this.g.O),e=this.g.set(a,d),f=this;this.n.put(a.toString()+"/.priority",b,function(b,d){"permission_denied"===b&&M("setPriority at "+a+" failed: "+b);le(f.g,e);je(f.g,a);var l=Lf(f,a);Af(f.L,l,[]);Nf(c,b,d)});b=Lf(this,a);Af(f.L,b,[])};
function Mf(a){a.e("onDisconnectEvents");var b=[],c=Kf(a);fe(ne(a.U,c),new H(""),function(c,e){var f=Gf(a.L,c,e,a.g.O);b.push.apply(b,a.g.set(c,f));f=Of(a,c);Lf(a,f);Af(a.L,f,[c])});le(a.g,b);a.U=new de}k.hd=function(a,b){var c=this;this.n.hd(a.toString(),function(d,e){"ok"===d&&ee(c.U,a);Nf(b,d,e)})};function Pf(a,b,c,d){var e=R(c);Wd(a.n,b.toString(),e.X(!0),function(c,g){"ok"===c&&a.U.ob(b,e);Nf(d,c,g)})}
function Qf(a,b,c,d,e){var f=R(c,d);Wd(a.n,b.toString(),f.X(!0),function(c,d){"ok"===c&&a.U.ob(b,f);Nf(e,c,d)})}function Rf(a,b,c,d){var e=!0,f;for(f in c)e=!1;e?(Xb("onDisconnect().update() called with empty data.  Don't do anything."),Nf(d,"ok")):Yd(a.n,b.toString(),c,function(e,f){if("ok"===e)for(var l in c){var n=R(c[l]);a.U.ob(b.J(l),n)}Nf(d,e,f)})}function Sf(a){Oc(a.fa,"deprecated_on_disconnect");a.ae.vd.deprecated_on_disconnect=!0}
k.bc=function(a,b,c,d,e){".info"===D(a.path)?this.cd.bc(a,b,c,d,e):this.L.bc(a,b,c,d,e)};k.Bc=function(a,b,c,d){if(".info"===D(a.path))this.cd.Bc(a,b,c,d);else{b=this.L.Bc(a,b,c,d);if(c=null!==b){c=this.g;d=a.path;for(var e=[],f=0;f<b.length;++f)e[f]=T(c.va,b[f]);U(c.va,d,P);for(f=0;f<b.length;++f)U(c.va,b[f],e[f]);c=je(c,d)}c&&(v(this.g.pa.aa===this.L.pc,"We should have raised any outstanding events by now.  Else, we'll blow them away."),U(this.g.pa,a.path,T(this.g.O,a.path)),this.L.pc=this.g.pa.aa)}};
k.Na=function(){this.n.Na()};k.qb=function(){this.n.qb()};k.td=function(a){if("undefined"!==typeof console){a?(this.Ec||(this.Ec=new Qc(this.fa)),a=this.Ec.get()):a=this.fa.get();var b=Fb(Ic(a),function(a,b){return Math.max(b.length,a)},0),c;for(c in a){for(var d=a[c],e=c.length;e<b+2;e++)c+=" ";console.log(c+d)}}};k.ud=function(a){Oc(this.fa,a);this.ae.vd[a]=!0};k.e=function(){Xb("r:"+this.n.id+":",arguments)};
function Nf(a,b,c){a&&sc(function(){if("ok"==b)a(null,c);else{var d=(b||"error").toUpperCase(),e=d;c&&(e+=": "+c);e=Error(e);e.code=d;a(e)}})};function Tf(a,b,c,d,e){function f(){}a.e("transaction on "+b);var g=new G(a,b);g.Ra("value",f);c={path:b,update:c,G:d,status:null,Rd:Vb(),Nc:e,Vd:0,Kc:function(){g.kb("value",f)},Lc:null};a.Ha.aa=Uf(a,a.Ha.aa,a.g.O.aa,a.Xa);d=c.update(T(a.Ha,b).X());if(m(d)){Ea("transaction failed: Data returned ",d);c.status=1;e=I(a.Xa,b);var h=e.k()||[];h.push(c);Xa(e,h);h="object"===typeof d&&null!==d&&A(d,".priority")?d[".priority"]:T(a.g.O,b).m();e=Kf(a);d=R(d,h);d=oe(d,e);U(a.Ha,b,d);c.Nc&&(U(a.g.pa,b,d),Af(a.L,
b,[b]));Vf(a)}else c.Kc(),c.G&&(a=Wf(a,b),c.G(null,!1,a))}function Vf(a,b){var c=b||a.Xa;b||Xf(a,c);if(null!==c.k()){var d=Yf(a,c);v(0<d.length);Gb(d,function(a){return 1===a.status})&&Zf(a,c.path(),d)}else c.Cb()&&c.B(function(b){Vf(a,b)})}
function Zf(a,b,c){for(var d=0;d<c.length;d++)v(1===c[d].status,"tryToSendTransactionQueue_: items in queue should all be run."),c[d].status=2,c[d].Vd++;var e=T(a.g.O,b).hash();U(a.g.O,b,T(a.g.pa,b));for(var f=T(a.Ha,b).X(!0),g=Vb(),h=$f(c),d=0;d<h.length;d++)Xa(I(a.g.Pb,h[d]),g);a.n.put(b.toString(),f,function(e){a.e("transaction put response",{path:b.toString(),status:e});for(d=0;d<h.length;d++){var f=I(a.g.Pb,h[d]),p=f.k();v(null!==p,"sendTransactionQueue_: pendingPut should not be null.");p===
g&&(Xa(f,null),U(a.g.O,h[d],T(a.g.va,h[d])))}if("ok"===e){e=[];for(d=0;d<c.length;d++)c[d].status=3,c[d].G&&(f=Wf(a,c[d].path),e.push(r(c[d].G,null,null,!0,f))),c[d].Kc();Xf(a,I(a.Xa,b));Vf(a);for(d=0;d<e.length;d++)sc(e[d])}else{if("datastale"===e)for(d=0;d<c.length;d++)c[d].status=4===c[d].status?5:1;else for(M("transaction at "+b+" failed: "+e),d=0;d<c.length;d++)c[d].status=5,c[d].Lc=e;e=Lf(a,b);Af(a.L,e,[b])}},e)}
function $f(a){for(var b={},c=0;c<a.length;c++)a[c].Nc&&(b[a[c].path.toString()]=a[c].path);a=[];for(var d in b)a.push(b[d]);return a}
function Lf(a,b){var c=ag(a,b),d=c.path(),c=Yf(a,c);U(a.g.pa,d,T(a.g.O,d));U(a.Ha,d,T(a.g.O,d));if(0!==c.length){for(var e=T(a.g.pa,d),f=e,g=[],h=0;h<c.length;h++){var l=Ua(d,c[h].path),n=!1,p;v(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null.");if(5===c[h].status)n=!0,p=c[h].Lc;else if(1===c[h].status)if(25<=c[h].Vd)n=!0,p="maxretry";else{var s=e.N(l),t=c[h].update(s.X());if(m(t)){Ea("transaction failed: Data returned ",t);var w=R(t);"object"===typeof t&&null!=t&&A(t,".priority")||
(w=w.Ia(s.m()));e=e.Aa(l,w);c[h].Nc&&(f=f.Aa(l,w))}else n=!0,p="nodata"}n&&(c[h].status=3,setTimeout(c[h].Kc,Math.floor(0)),c[h].G&&(n=new G(a,c[h].path),l=new S(e.N(l),n),"nodata"===p?g.push(r(c[h].G,null,null,!1,l)):g.push(r(c[h].G,null,Error(p),!1,l))))}U(a.Ha,d,e);U(a.g.pa,d,f);Xf(a,a.Xa);for(h=0;h<g.length;h++)sc(g[h]);Vf(a)}return d}function ag(a,b){for(var c,d=a.Xa;null!==(c=D(b))&&null===d.k();)d=I(d,c),b=Sa(b);return d}
function Yf(a,b){var c=[];bg(a,b,c);c.sort(function(a,b){return a.Rd-b.Rd});return c}function bg(a,b,c){var d=b.k();if(null!==d)for(var e=0;e<d.length;e++)c.push(d[e]);b.B(function(b){bg(a,b,c)})}function Xf(a,b){var c=b.k();if(c){for(var d=0,e=0;e<c.length;e++)3!==c[e].status&&(c[d]=c[e],d++);c.length=d;Xa(b,0<c.length?c:null)}b.B(function(b){Xf(a,b)})}function Of(a,b){var c=ag(a,b).path(),d=I(a.Xa,b);$a(d,function(a){cg(a)});cg(d);Za(d,function(a){cg(a)});return c}
function cg(a){var b=a.k();if(null!==b){for(var c=[],d=-1,e=0;e<b.length;e++)4!==b[e].status&&(2===b[e].status?(v(d===e-1,"All SENT items should be at beginning of queue."),d=e,b[e].status=4,b[e].Lc="set"):(v(1===b[e].status),b[e].Kc(),b[e].G&&c.push(r(b[e].G,null,Error("set"),!1,null))));-1===d?Xa(a,null):b.length=d+1;for(e=0;e<c.length;e++)sc(c[e])}}function Wf(a,b){var c=new G(a,b);return new S(T(a.Ha,b),c)}
function Uf(a,b,c,d){if(d.f())return c;if(null!=d.k())return b;var e=c;d.B(function(d){var g=d.name(),h=new H(g);d=Uf(a,b.N(h),c.N(h),d);e=e.K(g,d)});return e};function X(){this.pb={}}ca(X);X.prototype.Na=function(){for(var a in this.pb)this.pb[a].Na()};X.prototype.interrupt=X.prototype.Na;X.prototype.qb=function(){for(var a in this.pb)this.pb[a].qb()};X.prototype.resume=X.prototype.qb;function dg(a){var b=this;this.wb=a;this.Gc="*";Be()?this.Hb=this.ic=ue():(this.Hb=window.opener,this.ic=window);if(!b.Hb)throw"Unable to find relay frame";ve(this.ic,"message",r(this.lb,this));ve(this.ic,"message",r(this.Od,this));try{eg(this,{a:"ready"})}catch(c){ve(this.Hb,"load",function(){eg(b,{a:"ready"})})}ve(window,"unload",r(this.He,this))}function eg(a,b){b=u(b);Be()?a.Hb.doPost(b,a.Gc):a.Hb.postMessage(b,a.Gc)}
dg.prototype.lb=function(a){var b=this,c;try{c=ta(a.data)}catch(d){}c&&"request"===c.a&&(we(window,"message",this.lb),this.Gc=a.origin,this.wb&&setTimeout(function(){b.wb(b.Gc,c.d,function(a,c){b.ne=!c;b.wb=void 0;eg(b,{a:"response",d:a,forceKeepWindowOpen:c})})},0))};dg.prototype.He=function(){try{we(this.ic,"message",this.Od)}catch(a){}this.wb&&(eg(this,{a:"error",d:"unknown closed window"}),this.wb=void 0);try{window.close()}catch(b){}};dg.prototype.Od=function(a){if(this.ne&&"die"===a.data)try{window.close()}catch(b){}};var Y={xe:function(a){var b=Q.prototype.hash;Q.prototype.hash=a;var c=tc.prototype.hash;tc.prototype.hash=a;return function(){Q.prototype.hash=b;tc.prototype.hash=c}}};Y.hijackHash=Y.xe;Y.Ta=function(a){return a.Ta()};Y.queryIdentifier=Y.Ta;Y.Ae=function(a){return a.i.n.ia};Y.listens=Y.Ae;Y.Me=function(a){return a.i.n.la};Y.refConnection=Y.Me;Y.de=Md;Y.DataConnection=Y.de;Md.prototype.sendRequest=Md.prototype.Ga;Md.prototype.interrupt=Md.prototype.Na;Y.ee=vd;Y.RealTimeConnection=Y.ee;
vd.prototype.sendRequest=vd.prototype.Yd;vd.prototype.close=vd.prototype.close;Y.ce=vb;Y.ConnectionTarget=Y.ce;Y.ue=function(){gd=Yc=!0};Y.forceLongPolling=Y.ue;Y.ve=function(){hd=!0};Y.forceWebSockets=Y.ve;Y.Te=function(a,b){a.i.n.rd=b};Y.setSecurityDebugCallback=Y.Te;Y.td=function(a,b){a.i.td(b)};Y.stats=Y.td;Y.ud=function(a,b){a.i.ud(b)};Y.statsIncrementCounter=Y.ud;Y.fc=function(a){return a.i.fc};Y.dataUpdateCount=Y.fc;Y.ye=function(a,b){a.i.Jd=b};Y.interceptServerData=Y.ye;Y.De=function(a){new dg(a)};
Y.onPopupOpen=Y.De;Y.Qe=function(a){pe=a};Y.setAuthenticationServer=Y.Qe;function Z(a,b,c){this.Tb=a;this.Z=b;this.Ea=c}Z.prototype.cancel=function(a){x("Firebase.onDisconnect().cancel",0,1,arguments.length);z("Firebase.onDisconnect().cancel",1,a,!0);this.Tb.hd(this.Z,a)};Z.prototype.cancel=Z.prototype.cancel;Z.prototype.remove=function(a){x("Firebase.onDisconnect().remove",0,1,arguments.length);C("Firebase.onDisconnect().remove",this.Z);z("Firebase.onDisconnect().remove",1,a,!0);Pf(this.Tb,this.Z,null,a)};Z.prototype.remove=Z.prototype.remove;
Z.prototype.set=function(a,b){x("Firebase.onDisconnect().set",1,2,arguments.length);C("Firebase.onDisconnect().set",this.Z);Da("Firebase.onDisconnect().set",a,!1);z("Firebase.onDisconnect().set",2,b,!0);Pf(this.Tb,this.Z,a,b)};Z.prototype.set=Z.prototype.set;
Z.prototype.tb=function(a,b,c){x("Firebase.onDisconnect().setWithPriority",2,3,arguments.length);C("Firebase.onDisconnect().setWithPriority",this.Z);Da("Firebase.onDisconnect().setWithPriority",a,!1);Ia("Firebase.onDisconnect().setWithPriority",2,b,!1);z("Firebase.onDisconnect().setWithPriority",3,c,!0);if(".length"===this.Ea||".keys"===this.Ea)throw"Firebase.onDisconnect().setWithPriority failed: "+this.Ea+" is a read-only object.";Qf(this.Tb,this.Z,a,b,c)};Z.prototype.setWithPriority=Z.prototype.tb;
Z.prototype.update=function(a,b){x("Firebase.onDisconnect().update",1,2,arguments.length);C("Firebase.onDisconnect().update",this.Z);if(ea(a)){for(var c={},d=0;d<a.length;++d)c[""+d]=a[d];a=c;M("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ha("Firebase.onDisconnect().update",a);z("Firebase.onDisconnect().update",2,b,!0);Rf(this.Tb,
this.Z,a,b)};Z.prototype.update=Z.prototype.update;var fg=function(){var a=0,b=[];return function(c){var d=c===a;a=c;for(var e=Array(8),f=7;0<=f;f--)e[f]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(c%64),c=Math.floor(c/64);v(0===c,"Cannot push at time == 0");c=e.join("");if(d){for(f=11;0<=f&&63===b[f];f--)b[f]=0;b[f]++}else for(f=0;12>f;f++)b[f]=Math.floor(64*Math.random());for(f=0;12>f;f++)c+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(b[f]);v(20===c.length,"NextPushId: Length should be 20.");
return c}}();function G(a,b){var c,d,e;if(a instanceof Hf)c=a,d=b;else{x("new Firebase",1,2,arguments.length);d=fc(arguments[0]);c=d.Ve;"firebase"===d.domain&&ec(d.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead");c||ec("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com");d.Va||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&M("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");
c=new vb(d.host,d.Va,c,"ws"===d.scheme||"wss"===d.scheme);d=new H(d.Ob);e=d.toString();var f;!(f=!q(c.host)||0===c.host.length||!Ca(c.Qa))&&(f=0!==e.length)&&(e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),f=!(q(e)&&0!==e.length&&!Ba.test(e)));if(f)throw Error(y("new Firebase",1,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".');if(b)if(b instanceof X)e=b;else if(q(b))e=X.gb(),c.wc=b;else throw Error("Expected a valid Firebase.Context for second argument to new Firebase()");
else e=X.gb();f=c.toString();var g=B(e.pb,f);g||(g=new Hf(c),e.pb[f]=g);c=g}F.call(this,c,d)}ma(G,F);var gg=G,hg=["Firebase"],ig=aa;hg[0]in ig||!ig.execScript||ig.execScript("var "+hg[0]);for(var jg;hg.length&&(jg=hg.shift());)!hg.length&&m(gg)?ig[jg]=gg:ig=ig[jg]?ig[jg]:ig[jg]={};module.exports=G;G.prototype.name=function(){x("Firebase.name",0,0,arguments.length);return this.path.f()?null:Ta(this.path)};G.prototype.name=G.prototype.name;
G.prototype.J=function(a){x("Firebase.child",1,1,arguments.length);if(ga(a))a=String(a);else if(!(a instanceof H))if(null===D(this.path)){var b=a;b&&(b=b.replace(/^\/*\.info(\/|$)/,"/"));La("Firebase.child",b)}else La("Firebase.child",a);return new G(this.i,this.path.J(a))};G.prototype.child=G.prototype.J;G.prototype.parent=function(){x("Firebase.parent",0,0,arguments.length);var a=this.path.parent();return null===a?null:new G(this.i,a)};G.prototype.parent=G.prototype.parent;
G.prototype.root=function(){x("Firebase.ref",0,0,arguments.length);for(var a=this;null!==a.parent();)a=a.parent();return a};G.prototype.root=G.prototype.root;G.prototype.toString=function(){x("Firebase.toString",0,0,arguments.length);var a;if(null===this.parent())a=this.i.toString();else{a=this.parent().toString()+"/";var b=this.name();a+=encodeURIComponent(String(b))}return a};G.prototype.toString=G.prototype.toString;
G.prototype.set=function(a,b){x("Firebase.set",1,2,arguments.length);C("Firebase.set",this.path);Da("Firebase.set",a,!1);z("Firebase.set",2,b,!0);this.i.tb(this.path,a,null,b)};G.prototype.set=G.prototype.set;
G.prototype.update=function(a,b){x("Firebase.update",1,2,arguments.length);C("Firebase.update",this.path);if(ea(a)){for(var c={},d=0;d<a.length;++d)c[""+d]=a[d];a=c;M("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ha("Firebase.update",a);z("Firebase.update",2,b,!0);if(A(a,".priority"))throw Error("update() does not currently support updating .priority.");
this.i.update(this.path,a,b)};G.prototype.update=G.prototype.update;G.prototype.tb=function(a,b,c){x("Firebase.setWithPriority",2,3,arguments.length);C("Firebase.setWithPriority",this.path);Da("Firebase.setWithPriority",a,!1);Ia("Firebase.setWithPriority",2,b,!1);z("Firebase.setWithPriority",3,c,!0);if(".length"===this.name()||".keys"===this.name())throw"Firebase.setWithPriority failed: "+this.name()+" is a read-only object.";this.i.tb(this.path,a,b,c)};G.prototype.setWithPriority=G.prototype.tb;
G.prototype.remove=function(a){x("Firebase.remove",0,1,arguments.length);C("Firebase.remove",this.path);z("Firebase.remove",1,a,!0);this.set(null,a)};G.prototype.remove=G.prototype.remove;
G.prototype.transaction=function(a,b,c){x("Firebase.transaction",1,3,arguments.length);C("Firebase.transaction",this.path);z("Firebase.transaction",1,a,!1);z("Firebase.transaction",2,b,!0);if(m(c)&&"boolean"!=typeof c)throw Error(y("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.name()||".keys"===this.name())throw"Firebase.transaction failed: "+this.name()+" is a read-only object.";"undefined"===typeof c&&(c=!0);Tf(this.i,this.path,a,b,c)};G.prototype.transaction=G.prototype.transaction;
G.prototype.sd=function(a,b){x("Firebase.setPriority",1,2,arguments.length);C("Firebase.setPriority",this.path);Ia("Firebase.setPriority",1,a,!1);z("Firebase.setPriority",2,b,!0);this.i.sd(this.path,a,b)};G.prototype.setPriority=G.prototype.sd;G.prototype.push=function(a,b){x("Firebase.push",0,2,arguments.length);C("Firebase.push",this.path);Da("Firebase.push",a,!0);z("Firebase.push",2,b,!0);var c=Jf(this.i),c=fg(c),c=this.J(c);"undefined"!==typeof a&&null!==a&&c.set(a,b);return c};
G.prototype.push=G.prototype.push;G.prototype.ja=function(){return new Z(this.i,this.path,this.name())};G.prototype.onDisconnect=G.prototype.ja;G.prototype.Ne=function(){M("FirebaseRef.removeOnDisconnect() being deprecated. Please use FirebaseRef.onDisconnect().remove() instead.");this.ja().remove();Sf(this.i)};G.prototype.removeOnDisconnect=G.prototype.Ne;
G.prototype.Se=function(a){M("FirebaseRef.setOnDisconnect(value) being deprecated. Please use FirebaseRef.onDisconnect().set(value) instead.");this.ja().set(a);Sf(this.i)};G.prototype.setOnDisconnect=G.prototype.Se;G.prototype.I=function(a,b,c){M("FirebaseRef.auth() being deprecated. Please use FirebaseRef.authWithCustomToken() instead.");x("Firebase.auth",1,3,arguments.length);Ma("Firebase.auth",a);z("Firebase.auth",2,b,!0);z("Firebase.auth",3,b,!0);Pe(this.i.I,a,{},{remember:"none"},b,c)};
G.prototype.auth=G.prototype.I;G.prototype.yd=function(a){x("Firebase.unauth",0,1,arguments.length);z("Firebase.unauth",1,a,!0);Qe(this.i.I,a)};G.prototype.unauth=G.prototype.yd;G.prototype.Yc=function(){x("Firebase.getAuth",0,0,arguments.length);return this.i.I.Yc()};G.prototype.getAuth=G.prototype.Yc;G.prototype.Ce=function(a,b){x("Firebase.onAuth",1,2,arguments.length);z("Firebase.onAuth",1,a,!1);xa("Firebase.onAuth",2,b);this.i.I.Ra("auth_status",a,b)};G.prototype.onAuth=G.prototype.Ce;
G.prototype.Be=function(a,b){x("Firebase.offAuth",1,2,arguments.length);z("Firebase.offAuth",1,a,!1);xa("Firebase.offAuth",2,b);this.i.I.kb("auth_status",a,b)};G.prototype.offAuth=G.prototype.Be;G.prototype.ie=function(a,b,c){x("Firebase.authWithCustomToken",2,3,arguments.length);Ma("Firebase.authWithCustomToken",a);z("Firebase.authWithCustomToken",2,b,!1);E("Firebase.authWithCustomToken",3,c,!0);Pe(this.i.I,a,{},c||{},b)};G.prototype.authWithCustomToken=G.prototype.ie;
G.prototype.je=function(a,b,c){x("Firebase.authWithOAuthPopup",2,3,arguments.length);Na("Firebase.authWithOAuthPopup",1,a);z("Firebase.authWithOAuthPopup",2,b,!1);E("Firebase.authWithOAuthPopup",3,c,!0);Ue(this.i.I,a,c,b)};G.prototype.authWithOAuthPopup=G.prototype.je;
G.prototype.ke=function(a,b,c){x("Firebase.authWithOAuthRedirect",2,3,arguments.length);Na("Firebase.authWithOAuthRedirect",1,a);z("Firebase.authWithOAuthRedirect",2,b,!1);E("Firebase.authWithOAuthRedirect",3,c,!0);var d=this.i.I;Se(d);var e=[Ie],f=se(c);"anonymous"===a||"firebase"===a?O(b,V("TRANSPORT_UNAVAILABLE")):(J.set("redirect_client_options",f.ec),Te(d,e,"/auth/"+a,f,b))};G.prototype.authWithOAuthRedirect=G.prototype.ke;
G.prototype.le=function(a,b,c,d){x("Firebase.authWithOAuthToken",3,4,arguments.length);Na("Firebase.authWithOAuthToken",1,a);z("Firebase.authWithOAuthToken",3,c,!1);E("Firebase.authWithOAuthToken",4,d,!0);q(b)?(Na("Firebase.authWithOAuthToken",2,b),Re(this.i.I,a+"/token",{access_token:b},d,c)):(E("Firebase.authWithOAuthToken",2,b,!1),Re(this.i.I,a+"/token",b,d,c))};G.prototype.authWithOAuthToken=G.prototype.le;
G.prototype.he=function(a,b){x("Firebase.authAnonymously",1,2,arguments.length);z("Firebase.authAnonymously",1,a,!1);E("Firebase.authAnonymously",2,b,!0);Re(this.i.I,"anonymous",{},b,a)};G.prototype.authAnonymously=G.prototype.he;
G.prototype.me=function(a,b,c){x("Firebase.authWithPassword",2,3,arguments.length);E("Firebase.authWithPassword",1,a,!1);Oa("Firebase.authWithPassword",a,"email");Oa("Firebase.authWithPassword",a,"password");z("Firebase.authAnonymously",2,b,!1);E("Firebase.authAnonymously",3,c,!0);Re(this.i.I,"password",a,c,b)};G.prototype.authWithPassword=G.prototype.me;
G.prototype.Tc=function(a,b){x("Firebase.createUser",2,2,arguments.length);E("Firebase.createUser",1,a,!1);Oa("Firebase.createUser",a,"email");Oa("Firebase.createUser",a,"password");z("Firebase.createUser",2,b,!1);this.i.I.Tc(a,b)};G.prototype.createUser=G.prototype.Tc;G.prototype.pd=function(a,b){x("Firebase.removeUser",2,2,arguments.length);E("Firebase.removeUser",1,a,!1);Oa("Firebase.removeUser",a,"email");Oa("Firebase.removeUser",a,"password");z("Firebase.removeUser",2,b,!1);this.i.I.pd(a,b)};
G.prototype.removeUser=G.prototype.pd;G.prototype.Pc=function(a,b){x("Firebase.changePassword",2,2,arguments.length);E("Firebase.changePassword",1,a,!1);Oa("Firebase.changePassword",a,"email");Oa("Firebase.changePassword",a,"oldPassword");Oa("Firebase.changePassword",a,"newPassword");z("Firebase.changePassword",2,b,!1);this.i.I.Pc(a,b)};G.prototype.changePassword=G.prototype.Pc;
G.prototype.qd=function(a,b){x("Firebase.resetPassword",2,2,arguments.length);E("Firebase.resetPassword",1,a,!1);Oa("Firebase.resetPassword",a,"email");z("Firebase.resetPassword",2,b,!1);this.i.I.qd(a,b)};G.prototype.resetPassword=G.prototype.qd;G.goOffline=function(){x("Firebase.goOffline",0,0,arguments.length);X.gb().Na()};G.goOnline=function(){x("Firebase.goOnline",0,0,arguments.length);X.gb().qb()};
function bc(a,b){v(!b||!0===a||!1===a,"Can't turn on custom loggers persistently.");!0===a?("undefined"!==typeof console&&("function"===typeof console.log?$b=r(console.log,console):"object"===typeof console.log&&($b=function(a){console.log(a)})),b&&J.set("logging_enabled",!0)):a?$b=a:($b=null,J.remove("logging_enabled"))}G.enableLogging=bc;G.ServerValue={TIMESTAMP:{".sv":"timestamp"}};G.SDK_VERSION="1.1.3";G.INTERNAL=Y;G.Context=X;
